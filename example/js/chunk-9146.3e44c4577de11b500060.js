'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[9146],{14281:function(t,e,i){i.d(e,{N:function(){return h}});var n=i(81316),o=i(70498),a=i(53338),r={type:'echarts:filter',transform:function(t){for(var e,i=t.upstream,r=(0,n.a)(t.config,{valueGetterAttrMap:(0,o.createHashMap)({dimension:!0}),prepareGetValue:function(t){var e='',n=t.dimension;(0,o.hasOwn)(t,'dimension')||(0,a._y)(e);var r=i.getDimensionInfo(n);return r||(0,a._y)(e),{dimIdx:r.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}}),s=[],l=0,u=i.count();l<u;l++)e=i.getRawDataItem(l),r.evaluate()&&s.push(e);return{data:s}}},s=(i(25613),i(69217),i(74259)),l=i(65328),u=i(47312);var p={type:'echarts:sort',transform:function(t){var e=t.upstream,i=t.config,n='',r=(0,l.kF)(i);r.length||(0,a._y)(n);var p=[];(0,o.each)(r,(function(t){var i=t.dimension,o=t.order,r=t.parser,s=t.incomparable;if(null==i&&(0,a._y)(n),'asc'!==o&&'desc'!==o&&(0,a._y)(n),s&&'min'!==s&&'max'!==s){var l='';0,(0,a._y)(l)}if('asc'!==o&&'desc'!==o){var h='';0,(0,a._y)(h)}var c=e.getDimensionInfo(i);c||(0,a._y)(n);var d=r?(0,u.o2)(r):null;r&&!d&&(0,a._y)(n),p.push({dimIdx:c.index,parser:d,comparator:new u.ID(o,s)})}));var h=e.sourceFormat;h!==s.XD&&h!==s.qb&&(0,a._y)(n);for(var c=[],d=0,g=e.count();d<g;d++)c.push(e.getRawDataItem(d));return c.sort((function(t,i){for(var n=0;n<p.length;n++){var o=p[n],a=e.retrieveValueFromItem(t,o.dimIdx),r=e.retrieveValueFromItem(i,o.dimIdx);o.parser&&(a=o.parser(a),r=o.parser(r));var s=o.comparator.evaluate(a,r);if(0!==s)return s}return 0})),{data:c}}};function h(t){t.registerTransform(r),t.registerTransform(p)}},53131:function(t,e,i){i(72410),i(52077),i(911),i(76056);var n=i(72960),o=i(70498),a=i(6303),r=i(36479),s=i(8953),l=i(28239),u=i(65328),p=i(8391),h=i(33945),c=s.Z.mapVisual,d=s.Z.eachVisual,g=o.isArray,v=o.each,f=p.dt,y=p.NU,m=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.stateList=['inRange','outOfRange'],i.replacableOptionKeys=['inRange','outOfRange','target','controller','color'],i.layoutMode={type:'box',ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return(0,n.ZT)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,e){var i=this.option;a.Z.canvasSupported||(i.realtime=!1),!e&&l.jO(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel('textStyle'),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=o.bind(t,this),this.controllerVisuals=l.qD(this.option.controller,e,t),this.targetVisuals=l.qD(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||'all'===t?this.ecModel.eachSeries((function(t,i){e.push(i)})):e=u.kF(t),e},e.prototype.eachTargetSeries=function(t,e){o.each(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&t.call(e,n)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(i){i===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,i){var n,a=this.option,r=a.precision,s=this.dataBound,l=a.formatter;i=i||['<','>'],o.isArray(t)&&(t=t.slice(),n=!0);var u=e?t:n?[p(t[0]),p(t[1])]:p(t);return o.isString(l)?l.replace('{value}',n?u[0]:u).replace('{value2}',n?u[1]:u):o.isFunction(l)?n?l(t[0],t[1]):l(t):n?t[0]===s[0]?i[0]+' '+u[1]:t[1]===s[1]?i[1]+' '+u[0]:u[0]+' - '+u[1]:u;function p(t){return t===s[0]?'min':t===s[1]?'max':(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=f([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimension=function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,o=n.length-1;o>=0;o--){var a=n[o],r=t.getDimensionInfo(a);if(!r.isCalculationCoord)return a}}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),a=e.controller||(e.controller={});o.merge(n,i),o.merge(a,i);var l=this.isCategory();function u(i){g(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get('gradientColor')}}function p(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},v(n,(function(t,e){if(s.Z.isValidType(e)){var i=r.Z.get(e,'inactive',l);null!=i&&(o[e]=i,'color'!==e||o.hasOwnProperty('opacity')||o.hasOwnProperty('colorAlpha')||(o.opacity=[0,0]))}})))}function h(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get('inactiveColor'),a=this.getItemSymbol(),r=a||'roundRect';v(this.stateList,(function(a){var s=this.itemSize,u=t[a];u||(u=t[a]={color:l?n:[n]}),null==u.symbol&&(u.symbol=e&&o.clone(e)||(l?r:[r])),null==u.symbolSize&&(u.symbolSize=i&&o.clone(i)||(l?s[0]:[s[0],s[0]])),u.symbol=c(u.symbol,(function(t){return'none'===t?r:t}));var p=u.symbolSize;if(null!=p){var h=-1/0;d(p,(function(t){t>h&&(h=t)})),u.symbolSize=c(p,(function(t){return y(t,[0,h],[0,s[0]],!0)}))}}),this)}u.call(this,n),u.call(this,a),p.call(this,n,'inRange','outOfRange'),h.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get('itemWidth')),parseFloat(this.get('itemHeight'))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type='visualMap',e.dependencies=['series'],e.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:'all',min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:'vertical',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',contentColor:'#5793f3',inactiveColor:'#aaa',borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:'#333'}},e}(h.Z);e['Z']=m},60179:function(t,e,i){var n=i(72960),o=i(70498),a=i(353),r=i(41490),s=i(89770),l=i(8953),u=i(49541),p=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return(0,n.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,i,n){this.visualMapModel=t,!1!==t.get('show')?this.doRender(t,e,i,n):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,i=r.MY(e.get('padding')||0),n=t.getBoundingRect();t.add(new a.Z({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get('backgroundColor'),stroke:e.get('borderColor'),lineWidth:e.get('borderWidth')}}))},e.prototype.getControllerVisual=function(t,e,i){i=i||{};var n=i.forceState,a=this.visualMapModel,r={};if('color'===e){var s=a.get('contentColor');r.color=s}function u(t){return r[t]}function p(t,e){r[t]=e}var h=a.controllerVisuals[n||a.getValueState(t)],c=l.Z.prepareVisualTypes(h);return o.each(c,(function(n){var o=h[n];i.convertOpacityToAlpha&&'opacity'===n&&(n='colorAlpha',o=h.__alphaForOpacity),l.Z.dependsOn(n,e)&&o&&o.applyVisual(t,u,p)})),r[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,i=this.api;s.p$(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,e,i,n){},e.type='visualMap',e}(u.Z);e['Z']=p},58547:function(t,e,i){i.d(e,{X:function(){return r},H:function(){return s}});var n=i(70498),o=i(89770),a=[['left','right','width'],['top','bottom','height']];function r(t,e,i){var n=t.option,r=n.align;if(null!=r&&'auto'!==r)return r;for(var s={width:e.getWidth(),height:e.getHeight()},l='horizontal'===n.orient?1:0,u=a[l],p=[0,null,10],h={},c=0;c<3;c++)h[a[1-l][c]]=p[c],h[u[c]]=2===c?i[0]:n[u[c]];var d=[['x','width',3],['y','height',0]][l],g=(0,o.ME)(h,s,n.padding);return u[(g.margin[d[2]]||0)+g[d[0]]+.5*g[d[1]]<.5*s[d[1]]?0:1]}function s(t,e){return n.each(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey='visualMap'+(e?e.componentIndex:'')})),t}},69015:function(t,e,i){i.d(e,{N:function(){return r}});var n=i(27050),o=i(80458),a=i(48002);function r(t){(0,n.D)(o.N),(0,n.D)(a.N)}},75863:function(t,e,i){i.d(e,{Z:function(){return v}});var n={type:'selectDataRange',event:'dataRangeSelected',update:'update'},o=function(t,e){e.eachComponent({mainType:'visualMap',query:t},(function(e){e.setSelected(t.selected)}))},a=i(70498),r=i(28239),s=i(8953),l=i(18710),u=[{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent('visualMap',(function(e){var n=t.pipelineContext;!e.isTargetSeries(t)||n&&n.large||i.push(r.Z7(e.stateList,e.targetVisuals,a.bind(e.getValueState,e),e.getDataDimension(t.getData())))})),i}},{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent('visualMap',(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(a.bind(p,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimension(i),s=i.getDimensionInfo(r);null!=s&&(o.dimension=s.index,n.push(o))}})),t.getData().setVisual('visualMeta',n)}}];function p(t,e,i,n){for(var o=e.targetVisuals[n],a=s.Z.prepareVisualTypes(o),r={color:(0,l.UL)(t.getData(),'color')},u=0,p=a.length;u<p;u++){var h=a[u],c=o['opacity'===h?'__alphaForOpacity':h];c&&c.applyVisual(i,d,g)}return r.color;function d(t){return r[t]}function g(t,e){r[t]=e}}var h=a.each;function c(t){var e=t&&t.visualMap;a.isArray(e)||(e=e?[e]:[]),h(e,(function(t){if(t){d(t,'splitList')&&!d(t,'pieces')&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&a.isArray(e)&&h(e,(function(t){a.isObject(t)&&(d(t,'start')&&!d(t,'min')&&(t.min=t.start),d(t,'end')&&!d(t,'max')&&(t.max=t.end))}))}}))}function d(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var g=!1;function v(t){g||(g=!0,t.registerSubTypeDefaulter('visualMap',(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?'piecewise':'continuous'})),t.registerAction(n,o),(0,a.each)(u,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(c))}},80458:function(t,e,i){i.d(e,{N:function(){return N}});i(72410);var n=i(72960),o=i(70498),a=i(53131),r=i(8391),s=i(70109),l=[20,140],u=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.ZT)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod='linear',t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=l[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=l[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=r.dt((this.get('range')||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?'inRange':'outOfRange'},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),(function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)}),this),e.push({seriesId:i.id,dataIndex:n})}),this),e},e.prototype.getVisualMeta=function(t){var e=p(this,'outOfRange',this.getExtent()),i=p(this,'inRange',this.option.range.slice()),n=[];function o(e,i){n.push({value:e,color:t(e,i)})}for(var a=0,r=0,s=i.length,l=e.length;r<l&&(!i.length||e[r]<=i[0]);r++)e[r]<i[a]&&o(e[r],'outOfRange');for(var u=1;a<s;a++,u=0)u&&n.length&&o(i[a],'outOfRange'),o(i[a],'inRange');for(u=1;r<l;r++)(!i.length||i[i.length-1]<e[r])&&(u&&(n.length&&o(n[n.length-1].value,'outOfRange'),u=0),o(e[r],'outOfRange'));var h=n.length;return{stops:n,outerColors:[h?n[0].color:'transparent',h?n[h-1].color:'transparent']}},e.type='visualMap.continuous',e.defaultOption=(0,s.ZL)(a.Z.defaultOption,{align:'auto',calculable:!1,hoverLink:!0,realtime:!0,handleIcon:'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',handleSize:'120%',handleStyle:{borderColor:'#fff',borderWidth:1},indicatorIcon:'circle',indicatorSize:'50%',indicatorStyle:{borderColor:'#fff',borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:'rgba(0,0,0,0.2)'}}),e}(a.Z);function p(t,e,i){if(i[0]===i[1])return i.slice();for(var n=200,o=(i[1]-i[0])/n,a=i[0],r=[],s=0;s<=n&&a<i[1];s++)r.push(a),a+=o;return r.push(i[1]),r}var h=u,c=i(18226),d=i(92489),g=i(60179),v=i(16373),f=i(37858),y=i(99762),m=i(353),_=i(58062),M=i(15067),x=i(58547),S=i(65328),b=i(44750),I=i(56968),T=i(57075),L=i(79573),V=i(35412),w=r.NU,O=o.each,R=Math.min,C=Math.max,D=12,Z=6,k=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,n.ZT)(e,t),e.prototype.doRender=function(t,e,i,n){this._api=i,n&&'selectDataRange'===n.type&&n.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get('orient'),this._useHandle=t.get('calculable'),this._resetInterval(),this._renderBar(e);var i=t.get('text');this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+'':'';var o=this.visualMapModel,a=o.get('textGap'),r=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),u=this._applyTransform(0===i?'bottom':'top',s),p=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new f.ZP({style:{x:l[0],y:l[1],verticalAlign:'horizontal'===p?'middle':u,align:'horizontal'===p?u:'center',text:n,font:h.getFont(),fill:h.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,a=this._orient,r=this._useHandle,s=x.X(e,this.api,n),l=i.mainGroup=this._createBarGroup(s),u=new y.Z;l.add(u),u.add(i.outOfRange=z()),u.add(i.inRange=z(null,r?A(this._orient):null,o.bind(this._dragHandle,this,'all',!1),o.bind(this._dragHandle,this,'all',!0))),u.setClipPath(new m.Z({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var p=e.textStyleModel.getTextRect('国'),h=C(p.width,p.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(e,l,0,n,h,a),this._createHandle(e,l,1,n,h,a)),this._createIndicator(e,l,n,h,a),t.add(l)},e.prototype._createHandle=function(t,e,i,n,a,r){var s=o.bind(this._dragHandle,this,i,!1),l=o.bind(this._dragHandle,this,i,!0),u=(0,b.GM)(t.get('handleSize'),n[0]),p=(0,T.t)(t.get('handleIcon'),-u/2,-u/2,u,u,null,!0),h=A(this._orient);p.attr({cursor:h,draggable:!0,drift:s,ondragend:l,onmousemove:function(t){d.sT(t.event)}}),p.x=n[0]/2,p.useStyle(t.getModel('handleStyle').getItemStyle()),p.setStyle({strokeNoScale:!0,strokeFirst:!0}),p.style.lineWidth*=2,p.ensureState('emphasis').style=t.getModel(['emphasis','handleStyle']).getItemStyle(),(0,I.Nj)(p,!0),e.add(p);var c=this.visualMapModel.textStyleModel,g=new f.ZP({cursor:h,draggable:!0,drift:s,onmousemove:function(t){d.sT(t.event)},ondragend:l,style:{x:0,y:0,text:'',font:c.getFont(),fill:c.getTextColor()}});g.ensureState('blur').style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var v=[u,0],y=this._shapes;y.handleThumbs[i]=p,y.handleLabelPoints[i]=v,y.handleLabels[i]=g},e.prototype._createIndicator=function(t,e,i,n,a){var r=(0,b.GM)(t.get('indicatorSize'),i[0]),s=(0,T.t)(t.get('indicatorIcon'),-r/2,-r/2,r,r,null,!0);s.attr({cursor:'move',invisible:!0,silent:!0,x:i[0]/2});var l=t.getModel('indicatorStyle').getItemStyle();if(s instanceof L.ZP){var u=s.style;s.useStyle(o.extend({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else s.useStyle(l);e.add(s);var p=this.visualMapModel.textStyleModel,h=new f.ZP({silent:!0,invisible:!0,style:{x:0,y:0,text:'',font:p.getFont(),fill:p.getTextColor()}});this.group.add(h);var c=[('horizontal'===a?n/2:Z)+i[0]/2,0],d=this._shapes;d.indicator=s,d.indicatorLabel=h,d.indicatorLabelPoint=c,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get('realtime')&&this.api.dispatchAction({type:'selectDataRange',from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():P(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[w(e[0],i,n,!0),w(e[1],i,n,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];(0,M.Z)(e,n,o,t,0);var a=i.getExtent();this._dataInterval=[w(n[0],o,a,!0),w(n[1],o,a,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,'inRange'),s=this._createBarVisual(i,i,o,'outOfRange');n.inRange.setStyle({fill:r.barColor}).setShape('points',r.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape('points',s.barPoints),this._updateHandle(a,r)},e.prototype._createBarVisual=function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],'symbolSize',o),this.getControllerVisual(t[1],'symbolSize',o)],s=this._createBarPoints(i,r);return{barColor:new c.Z(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var i=100,n=[],o=(t[1]-t[0])/i;n.push({color:this.getControllerVisual(t[0],'color',e),offset:0});for(var a=1;a<i;a++){var r=t[0]+o*a;if(r>t[1])break;n.push({color:this.getControllerVisual(r,'color',e),offset:a/i})}return n.push({color:this.getControllerVisual(t[1],'color',e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,i=this.visualMapModel.get('inverse');return new y.Z('horizontal'!==e||i?'horizontal'===e&&i?{scaleX:'bottom'===t?-1:1,rotation:-Math.PI/2}:'vertical'!==e||i?{scaleX:'left'===t?1:-1}:{scaleX:'left'===t?1:-1,scaleY:-1}:{scaleX:'bottom'===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels,r=n.itemSize,s=n.getExtent();O([0,1],(function(l){var u=o[l];u.setStyle('fill',e.handlesColor[l]),u.y=t[l];var p=w(t[l],[0,r[1]],s,!0),h=this.getControllerVisual(p,'symbolSize');u.scaleX=u.scaleY=h/r[0],u.x=r[0]-h/2;var c=v.applyTransform(i.handleLabelPoints[l],v.getTransform(u,this.group));a[l].setStyle({x:c[0],y:c[1],text:n.formatValueText(this._dataInterval[l]),verticalAlign:'middle',align:'vertical'===this._orient?this._applyTransform('left',i.mainGroup):'center'})}),this)}},e.prototype._showIndicator=function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=this._shapes,u=l.indicator;if(u){u.attr('invisible',!1);var p={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,'color',p),c=this.getControllerVisual(t,'symbolSize'),d=w(t,a,s,!0),g=r[0]-c/2,f={x:u.x,y:u.y};u.y=d,u.x=g;var y=v.applyTransform(l.indicatorLabelPoint,v.getTransform(u,this.group)),m=l.indicatorLabel;m.attr('invisible',!1);var _=this._applyTransform('left',l.mainGroup),M=this._orient,x='horizontal'===M;m.setStyle({text:(i||'')+o.formatValueText(e),verticalAlign:x?_:'middle',align:x?'center':_});var S={x:g,y:d,style:{fill:h}},b={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:'cubicInOut',additive:!0};u.x=f.x,u.y=f.y,u.animateTo(S,I),m.animateTo(b,I)}else u.attr(S),m.attr(b);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var L=0;L<T.length;L++)this._api.enterBlur(T[L])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on('mousemove',(function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);n[1]=R(C(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on('mouseout',(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on('mouseover',this._hoverLinkFromSeriesMouseOver,this),t.on('mouseout',this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=R(C(o[0],t),o[1]);var r=H(i,a,o),s=[t-r,t+r],l=w(t,o,a,!0),u=[w(s[0],o,a,!0),w(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],'< ',r):u[1]===1/0?this._showIndicator(l,u[0],'> ',r):this._showIndicator(l,l,'≈ ',r));var p=this._hoverLinkDataIndices,h=[];(e||P(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var c=S.XI(p,h);this._dispatchHighDown('downplay',x.H(c[0],i)),this._dispatchHighDown('highlight',x.H(c[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=(0,V.A)(e).dataIndex){var n=(0,V.A)(e),o=this.ecModel.getSeriesByIndex(n.seriesIndex);if(i.isTargetSeries(o)){var a=o.getData(n.dataType),r=a.get(i.getDataDimension(a),n.dataIndex);isNaN(r)||this._showIndicator(r,r)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr('invisible',!0),t.indicatorLabel&&t.indicatorLabel.attr('invisible',!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this._api.leaveBlur(e[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown('downplay',x.H(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off('mouseover',this._hoverLinkFromSeriesMouseOver),t.off('mouseout',this._hideIndicator)},e.prototype._applyTransform=function(t,e,i,n){var a=v.getTransform(e,n?null:this.group);return o.isArray(t)?v.applyTransform(t,a,i):v.transformDirection(t,a,i)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type='visualMap.continuous',e}(g.Z);function z(t,e,i,n){return new _.Z({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){d.sT(t.event)},ondragend:n})}function H(t,e,i){var n=D/2,o=t.get('hoverLinkDataSize');return o&&(n=w(o,e,i,!0)/2),n}function P(t){var e=t.get('hoverLinkOnHandle');return!!(null==e?t.get('realtime'):e)}function A(t){return'vertical'===t?'ns-resize':'ew-resize'}var E=k,F=i(75863);function N(t){t.registerComponentModel(h),t.registerComponentView(E),(0,F.Z)(t)}},48002:function(t,e,i){i.d(e,{N:function(){return b}});i(72410),i(76056);var n=i(72960),o=i(70498),a=i(53131),r=i(8953),s=i(36479),l=i(8391),u=i(70109),p=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._pieceList=[],i}return(0,n.ZT)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],h[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var a=this.option.categories;this.resetVisual((function(t,e){'categories'===n?(t.mappingMethod='category',t.categories=o.clone(a)):(t.dataExtent=this.getExtent(),t.mappingMethod='piecewise',t.pieceList=o.map(this._pieceList,(function(t){return t=o.clone(t),'inRange'!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,i={},n=r.Z.listVisualTypes(),a=this.isCategory();function l(t,e,i){return t&&t[e]&&t[e].hasOwnProperty(i)}o.each(e.pieces,(function(t){o.each(n,(function(e){t.hasOwnProperty(e)&&(i[e]=1)}))})),o.each(i,(function(t,i){var n=!1;o.each(this.stateList,(function(t){n=n||l(e,t,i)||l(e.target,t,i)}),this),!n&&o.each(this.stateList,(function(t){(e[t]||(e[t]={}))[i]=s.Z.get(i,'inRange'===t?'active':'inactive',a)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var i=this.option,n=this._pieceList,a=(e?i:t).selected||{};if(i.selected=a,o.each(n,(function(t,e){var i=this.getSelectedMapKey(t);a.hasOwnProperty(i)||(a[i]=!0)}),this),'single'===i.selectedMode){var r=!1;o.each(n,(function(t,e){var i=this.getSelectedMapKey(t);a[i]&&(r?a[i]=!1:r=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get('itemSymbol')},e.prototype.getSelectedMapKey=function(t){return'categories'===this._mode?t.value+'':t.index+''},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?'pieces':this.option.categories?'categories':'splitNumber'},e.prototype.setSelected=function(t){this.option.selected=o.clone(t)},e.prototype.getValueState=function(t){var e=r.Z.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?'inRange':'outOfRange'},e.prototype.findTargetDataIndices=function(t){var e=[],i=this._pieceList;return this.eachTargetSeries((function(n){var o=[],a=n.getData();a.each(this.getDataDimension(a),(function(e,n){var a=r.Z.findPieceIndex(e,i);a===t&&o.push(n)}),this),e.push({seriesId:n.id,dataIndex:o})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],i=['',''],n=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({interval:[-1/0,r]}),r=a[a.length-1].interval[1],r!==1/0&&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return o.each(a,(function(t){var e=t.interval;e&&(e[0]>s&&l([s,e[0]],'outOfRange'),l(e.slice()),s=e[1])}),this),{stops:e,outerColors:i}}function l(o,a){var r=n.getRepresentValue({interval:o});a||(a=n.getValueState(r));var s=t(r,a);o[0]===-1/0?i[0]=s:o[1]===1/0?i[1]=s:e.push({value:o[0],color:s},{value:o[1],color:s})}},e.type='visualMap.piecewise',e.defaultOption=(0,u.ZL)(a.Z.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:'auto',itemWidth:20,itemHeight:14,itemSymbol:'roundRect',pieces:null,categories:null,splitNumber:5,selectedMode:'multiple',itemGap:10,hoverLink:!0}),e}(a.Z),h={splitNumber:function(t){var e=this.option,i=Math.min(e.precision,20),n=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;var r=(n[1]-n[0])/a;while(+r.toFixed(i)!==r&&i<5)i++;e.precision=i,r=+r.toFixed(i),e.minOpen&&t.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,u=n[0];s<a;u+=r,s++){var p=s===a-1?n[1]:u+r;t.push({interval:[u,p],close:[1,1]})}e.maxOpen&&t.push({interval:[n[1],1/0],close:[0,0]}),(0,l.nR)(t),o.each(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;o.each(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),c(e,t)},pieces:function(t){var e=this.option;o.each(e.pieces,(function(e,i){o.isObject(e)||(e={value:e});var n={text:'',index:i};if(null!=e.label&&(n.text=e.label),e.hasOwnProperty('value')){var a=n.value=e.value;n.interval=[a,a],n.close=[1,1]}else{for(var s=n.interval=[],l=n.close=[0,0],u=[1,0,1],p=[-1/0,1/0],h=[],c=0;c<2;c++){for(var d=[['gte','gt','min'],['lte','lt','max']][c],g=0;g<3&&null==s[c];g++)s[c]=e[d[g]],l[c]=u[g],h[c]=2===g;null==s[c]&&(s[c]=p[c])}h[0]&&s[1]===1/0&&(l[0]=0),h[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(n.value=s[0])}n.visual=r.Z.retrieveVisuals(e),t.push(n)}),this),c(e,t),(0,l.nR)(t),o.each(t,(function(t){var e=t.close,i=[['<','≤'][e[1]],['>','≥'][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)}),this)}};function c(t,e){var i=t.inverse;('vertical'===t.orient?!i:i)&&e.reverse()}var d=p,g=i(60179),v=i(99762),f=i(37858),y=i(57075),m=i(89770),_=i(58547),M=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.ZT)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get('textGap'),n=e.textStyleModel,a=n.getFont(),r=n.getTextColor(),s=this._getItemAlign(),l=e.itemSize,u=this._getViewData(),p=u.endsText,h=o.retrieve(e.get('showLabel',!0),!p);p&&this._renderEndsText(t,p[0],l,h,s),o.each(u.viewPieceList,(function(n){var u=n.piece,p=new v.Z;p.onclick=o.bind(this._onItemClick,this,u),this._enableHoverLink(p,n.indexInModelPieceList);var c=e.getRepresentValue(u);if(this._createItemSymbol(p,c,[0,0,l[0],l[1]]),h){var d=this.visualMapModel.getValueState(c);p.add(new f.ZP({style:{x:'right'===s?-i:l[0]+i,y:l[1]/2,text:u.text,verticalAlign:'middle',align:s,font:a,fill:r,opacity:'outOfRange'===d?.5:1}}))}t.add(p)}),this),p&&this._renderEndsText(t,p[1],l,h,s),m.BZ(e.get('orient'),t,e.get('itemGap')),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var i=this;t.on('mouseover',(function(){return n('highlight')})).on('mouseout',(function(){return n('downplay')}));var n=function(t){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:t,batch:_.H(n.findTargetDataIndices(e),n)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if('vertical'===e.orient)return _.X(t,this.api,t.itemSize);var i=e.align;return i&&'auto'!==i||(i='left'),i},e.prototype._renderEndsText=function(t,e,i,n,o){if(e){var a=new v.Z,r=this.visualMapModel.textStyleModel;a.add(new f.ZP({style:{x:n?'right'===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:'middle',align:n?o:'center',text:e,font:r.getFont(),fill:r.getTextColor()}})),t.add(a)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=o.map(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),i=t.get('text'),n=t.get('orient'),a=t.get('inverse');return('horizontal'===n?a:!a)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},e.prototype._createItemSymbol=function(t,e,i){t.add((0,y.t)(this.getControllerVisual(e,'symbol'),i[0],i[1],i[2],i[3],this.getControllerVisual(e,'color')))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,i=e.option,n=o.clone(i.selected),a=e.getSelectedMapKey(t);'single'===i.selectedMode?(n[a]=!0,o.each(n,(function(t,e){n[e]=e===a}))):n[a]=!n[a],this.api.dispatchAction({type:'selectDataRange',from:this.uid,visualMapId:this.visualMapModel.id,selected:n})},e.type='visualMap.piecewise',e}(g.Z),x=M,S=i(75863);function b(t){t.registerComponentModel(d),t.registerComponentView(x),(0,S.Z)(t)}}}]);