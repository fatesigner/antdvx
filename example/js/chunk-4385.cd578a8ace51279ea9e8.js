'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[4385],{24385:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});t(98010);var r=t(62212),i=t(76345);function a(e,n,t,a,u,o){var l=(0,r.up)('ATransfer'),s=(0,r.up)('AModal');return(0,r.wg)(),(0,r.j4)(s,{visible:e.visible_,'onUpdate:visible':n[1]||(n[1]=function(n){return e.visible_=n}),title:'用户角色授权','confirm-loading':e.loading,onOk:e.handleOk},{default:(0,r.w5)((function(){return[(0,r.Wm)(l,{'data-source':e.data,'show-search':'','list-style':{width:'200px',height:'300px'},'filter-option':e.filter,'target-keys':e.targetKeys,onChange:e.handleChange},{render:(0,r.w5)((function(e){return[(0,r.Wm)('span',null,(0,i.zw)(e.title),1)]})),_:1},8,['data-source','filter-option','target-keys','onChange'])]})),_:1},8,['visible','confirm-loading','onOk'])}var u,o=t(39486),l=t(46858),s=t(55250),c=t(90304),f=(t(12099),t(83352),t(20266),t(38217),t(23938),t(61013),t(25901),t(92189),t(9572)),p=t(31110),d=t(98767),v=t(86403),h=t(8880),g=t(14992),m=t(38451),Z=t(4169),b=(0,r.aZ)({name:'auth',components:(u={},(0,c.Z)(u,d.Z.name,d.Z),(0,c.Z)(u,v.Z.name,v.Z),(0,c.Z)(u,h.ZP.name,h.ZP),u),props:{visible:{type:Boolean,default:!1},user:{type:Object,default:null}},setup:function(e,n){var t=n.emit,i=(0,p.iH)(!1),a=(0,p.iH)(!1),u=(0,p.qj)([]),c=(0,p.qj)([]);(0,r.YP)((function(){return e.visible}),(function(e){a.value=e}),{immediate:!0}),(0,r.YP)(a,(function(e){t('update:visible',e)}));var d=function(e,n){return n.title.indexOf(e.trim())>-1},v=function(e){c.splice.apply(c,[0,c.length].concat((0,s.Z)(e)))},h=function(){var e=(0,l.Z)(regeneratorRuntime.mark((function e(){var n,t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,e.next=3,(0,f.Z)(Z.V.saveRoles(c));case 3:n=e.sent,t=(0,o.Z)(n,1),r=t[0],r?g.Z.error({message:'error',description:r.message}):(a.value=!1,m.Z.success('操作成功')),i.value=!1;case 8:case'end':return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.bv)((function(){Z.V.getRoles().then((function(e){u.splice.apply(u,[0,u.length].concat((0,s.Z)(e.map((function(e){return{key:e.roleid,title:e.rolename,description:e.description,disabled:!1}})))))}))})),{visible_:a,loading:i,data:u,targetKeys:c,filter:d,handleChange:v,handleOk:h}}});b.render=a;var k=b}}]);