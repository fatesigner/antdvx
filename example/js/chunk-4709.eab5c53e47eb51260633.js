'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[4709],{24709:function(t,a,e){e.d(a,{Gk:function(){return f},Ge:function(){return v},My:function(){return l},G_:function(){return p},bK:function(){return y},kY:function(){return b}});e(5769),e(63238),e(37753),e(73712),e(82979),e(6160),e(61849),e(25540),e(30896),e(20936),e(10040),e(5923),e(85246),e(97635),e(68774),e(8373),e(29706),e(86964),e(34630),e(75389),e(81244),e(89981),e(33807),e(62627),e(34950),e(61964),e(69217);var i=e(70498),n=e(8391),r=e(94013),o=e(6946),d='__ec_stack_',h=.5,u='undefined'!==typeof Float32Array?Float32Array:Array;function s(t){return t.get('stack')||d+t.seriesIndex}function c(t){return t.dim+t.index}function f(t){var a=[],e=t.axis,n='axis0';if('category'===e.type){for(var r=e.getBandWidth(),o=0;o<t.count;o++)a.push(i.defaults({bandWidth:r,axisKey:n,stackId:d+o},t));var h=m(a),u=[];for(o=0;o<t.count;o++){var s=h[n][d+o];s.offsetCenter=s.offset+s.width/2,u.push(s)}return u}}function v(t,a){var e=[];return a.eachSeriesByType(t,(function(t){x(t)&&!W(t)&&e.push(t)})),e}function g(t){var a={};i.each(t,(function(t){var e=t.coordinateSystem,i=e.getBaseAxis();if('time'===i.type||'value'===i.type)for(var n=t.getData(),r=i.dim+'_'+i.index,o=n.mapDimension(i.dim),d=0,h=n.count();d<h;++d){var u=n.get(o,d);a[r]?a[r].push(u):a[r]=[u]}}));var e={};for(var n in a)if(a.hasOwnProperty(n)){var r=a[n];if(r){r.sort((function(t,a){return t-a}));for(var o=null,d=1;d<r.length;++d){var h=r[d]-r[d-1];h>0&&(o=null===o?h:Math.min(o,h))}e[n]=o}}return e}function l(t){var a=g(t),e=[];return i.each(t,(function(t){var i,r=t.coordinateSystem,o=r.getBaseAxis(),d=o.getExtent();if('category'===o.type)i=o.getBandWidth();else if('value'===o.type||'time'===o.type){var h=o.dim+'_'+o.index,u=a[h],f=Math.abs(d[1]-d[0]),v=o.scale.getExtent(),g=Math.abs(v[1]-v[0]);i=u?f/g*u:f}else{var l=t.getData();i=Math.abs(d[1]-d[0])/l.count()}var m=(0,n.GM)(t.get('barWidth'),i),p=(0,n.GM)(t.get('barMaxWidth'),i),y=(0,n.GM)(t.get('barMinWidth')||1,i),b=t.get('barGap'),x=t.get('barCategoryGap');e.push({bandWidth:i,barWidth:m,barMaxWidth:p,barMinWidth:y,barGap:b,barCategoryGap:x,axisKey:c(o),stackId:s(t)})})),m(e)}function m(t){var a={};i.each(t,(function(t,e){var i=t.axisKey,n=t.bandWidth,r=a[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:null,gap:'20%',stacks:{}},o=r.stacks;a[i]=r;var d=t.stackId;o[d]||r.autoWidthCount++,o[d]=o[d]||{width:0,maxWidth:0};var h=t.barWidth;h&&!o[d].width&&(o[d].width=h,h=Math.min(r.remainedWidth,h),r.remainedWidth-=h);var u=t.barMaxWidth;u&&(o[d].maxWidth=u);var s=t.barMinWidth;s&&(o[d].minWidth=s);var c=t.barGap;null!=c&&(r.gap=c);var f=t.barCategoryGap;null!=f&&(r.categoryGap=f)}));var e={};return i.each(a,(function(t,a){e[a]={};var r=t.stacks,o=t.bandWidth,d=t.categoryGap;if(null==d){var h=i.keys(r).length;d=Math.max(35-4*h,15)+'%'}var u=(0,n.GM)(d,o),s=(0,n.GM)(t.gap,1),c=t.remainedWidth,f=t.autoWidthCount,v=(c-u)/(f+(f-1)*s);v=Math.max(v,0),i.each(r,(function(t){var a=t.maxWidth,e=t.minWidth;if(t.width){i=t.width;a&&(i=Math.min(i,a)),e&&(i=Math.max(i,e)),t.width=i,c-=i+s*i,f--}else{var i=v;a&&a<i&&(i=Math.min(a,c)),e&&e>i&&(i=e),i!==v&&(t.width=i,c-=i+s*i,f--)}})),v=(c-u)/(f+(f-1)*s),v=Math.max(v,0);var g,l=0;i.each(r,(function(t,a){t.width||(t.width=v),g=t,l+=t.width*(1+s)})),g&&(l-=g.width*s);var m=-l/2;i.each(r,(function(t,i){e[a][i]=e[a][i]||{bandWidth:o,offset:m,width:t.width},m+=t.width*(1+s)}))})),e}function p(t,a,e){if(t&&a){var i=t[c(a)];return null!=i&&null!=e?i[s(e)]:i}}function y(t,a){var e=v(t,a),n=l(e),o={};i.each(e,(function(t){var a=t.getData(),e=t.coordinateSystem,i=e.getBaseAxis(),d=s(t),h=n[c(i)][d],u=h.offset,f=h.width,v=e.getOtherAxis(i),g=t.get('barMinHeight')||0;o[d]=o[d]||[],a.setLayout({bandWidth:h.bandWidth,offset:u,size:f});for(var l=a.mapDimension(v.dim),m=a.mapDimension(i.dim),p=(0,r.M)(a,l),y=v.isHorizontal(),b=M(i,v,p),x=0,W=a.count();x<W;x++){var w=a.get(l,x),G=a.get(m,x),k=w>=0?'p':'n',C=b;p&&(o[d][G]||(o[d][G]={p:b,n:b}),C=o[d][G][k]);var A=void 0,D=void 0,S=void 0,B=void 0;if(y){var _=e.dataToPoint([w,G]);A=C,D=_[1]+u,S=_[0]-b,B=f,Math.abs(S)<g&&(S=(S<0?-1:1)*g),isNaN(S)||p&&(o[d][G][k]+=S)}else{_=e.dataToPoint([G,w]);A=_[0]+u,D=C,S=f,B=_[1]-b,Math.abs(B)<g&&(B=(B<=0?-1:1)*g),isNaN(B)||p&&(o[d][G][k]+=B)}a.setItemLayout(x,{x:A,y:D,width:S,height:B})}}))}var b={seriesType:'bar',plan:(0,o.Z)(),reset:function(t){if(x(t)&&W(t)){var a=t.getData(),e=t.coordinateSystem,i=e.master.getRect(),n=e.getBaseAxis(),r=e.getOtherAxis(n),o=a.mapDimension(r.dim),d=a.mapDimension(n.dim),s=r.isHorizontal(),c=s?0:1,f=p(l([t]),n,t).width;return f>h||(f=h),{progress:function(t,a){var h,v=t.count,g=new u(2*v),l=new u(2*v),m=new u(v),p=[],y=[],b=0,x=0;while(null!=(h=t.next()))y[c]=a.get(o,h),y[1-c]=a.get(d,h),p=e.dataToPoint(y,null),l[b]=s?i.x+i.width:p[0],g[b++]=p[0],l[b]=s?p[1]:i.y+i.height,g[b++]=p[1],m[x++]=h;a.setLayout({largePoints:g,largeDataIndices:m,largeBackgroundPoints:l,barWidth:f,valueAxisStart:M(n,r,!1),backgroundStart:s?i.x:i.y,valueAxisHorizontal:s})}}}}};function x(t){return t.coordinateSystem&&'cartesian2d'===t.coordinateSystem.type}function W(t){return t.pipelineContext&&t.pipelineContext.large}function M(t,a,e){return a.toGlobalCoord(a.dataToCoord('log'===a.type?1:0))}}}]);