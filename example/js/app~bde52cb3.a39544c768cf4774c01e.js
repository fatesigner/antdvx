'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[872],{20426:function(e,n,t){t.d(n,{NE:function(){return o},Ih:function(){return a},EW:function(){return u}});var r=t(98876),o=(0,r.Oy)(),a=(0,r.yM)(),u=(0,r.Oy)()},42028:function(e,n,t){t.d(n,{i:function(){return i}});t(52077),t(911),t(76056),t(95163);var r=t(82251),o=t.n(r),a=t(6511),u=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}),i={install:function(e){e.config.globalProperties.$pipes={currency:function(e,n){var t=u.format(e).replace('$','');return n?t.replace('.00',''):t},dateFormat:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'YYYY-MM-DD HH:mm:ss';return e?o()(e).format(n):''}},Number.prototype.toFixed=function(e){return(0,a.FH)(this,e)}}}},26826:function(e,n,t){t.d(n,{fd:function(){return f}});var r=t(46858),o=(t(12099),t(55849),t(5769),t(63238),t(14078),t(83352),t(52077),t(911),t(61418),t(17460),t(52327),t(49429)),a=t(73190),u=t(89184),i=t(20426),l=t(64125),c=[],d=[],s=t(90581);s.keys().forEach((function(e){var n=s(e).default;n.length||(n=[n]),n.forEach((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.allowAnonymous?c.push(e):d.push(e)}))}));var v=d;function f(){return p.apply(this,arguments)}function p(){return p=(0,r.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,a.p7)({history:(0,a.r5)(),linkActiveClass:'activated',linkExactActiveClass:'exact-activated',routes:v}),i.NE.on((function(e){})),i.Ih.on((function(e){var t,r,o,a=null!==e&&void 0!==e&&e.expired?(null===e||void 0===e?void 0:e.message)||'您当前的会话已过期，请重新登录':void 0;'Dashboard'===(null===(t=n.currentRoute)||void 0===t?void 0:t.value.name)?n.replace({name:u.ON.config.authPage}):u.ON.config.redirectEnable?n.replace({name:u.ON.config.authPage,query:{redirect:null!==(r=null===(o=n.currentRoute)||void 0===o?void 0:o.value.fullPath)&&void 0!==r?r:''},params:{error:null!==a&&void 0!==a?a:''}}):n.replace({name:u.ON.config.authPage,params:{error:null!==a&&void 0!==a?a:''}})})),i.EW.on((function(e){u.ON.config.homePage='admin'===e||'normal'===e?'dashboard':null})),n.beforeEach((function(e,r,a){var i=(0,o.o)(e,(function(){return u.ON.isAuthenticated()}),(function(e){return u.ON.isAuthorized(e)}));if(401===i)return a({name:u.ON.config.authPage,query:{redirect:u.ON.config.redirectEnable?e.fullPath:void 0}});if(403===i)return(0,l.Tq)(e,n,(function(){return Promise.all([t.e(662),t.e(7974)]).then(t.bind(t,67845))})),a({path:e.path});if(404===i)return(0,l.kA)(e,n,(function(){return Promise.all([t.e(662),t.e(7974)]).then(t.bind(t,67845))})),a({path:e.path});var c,d=e.matched.find((function(e){var n;return null===e||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.routerKey}));d&&(e.meta.key=d.name+'_'+(null===(c=d.meta)||void 0===c?void 0:c.routerKey(e)));return a()})),e.abrupt('return',n);case 6:case'end':return e.stop()}}),e)}))),p.apply(this,arguments)}},89184:function(e,n,t){t.d(n,{ON:function(){return v},Rc:function(){return g},DU:function(){return p},Fc:function(){return f}});var r=t(89135),o=(t(63238),t(61418),t(67798)),a=t(93268),u=t(29342),i=t(87970),l=t(8364),c=t(20426),d=new o.W2({defaultScope:'Singleton'}),s=new o.nZ((function(e){e(u.Oy.STORAGE_SERVICE_IDENTIFICATION).toConstantValue(i.O.APP_NAME),e(u.Oy.STORAGE_SERVICE).to(u.StorageService),e(u.Oy.SESSION_SERVICE_CONFIG).toConstantValue({onLogin:function(e){c.NE.emit(e)},onLogout:function(e){c.Ih.emit(e)},onRoleChanged:function(e){c.EW.emit(e)},getUserModel:function(){return{username:'',nickname:'',password:'',privileges:null,roles:[],avatar:'',usercode:'',realname:'',tokenType:'',accessToken:'',accessTokenFull:'',refreshToken:'',tokenExpirationTime:0,menus:[],permissions:[]}}}),e(u.Oy.SESSION_SERVICE).to(u.SessionService),e(u.Oy.AUTH_SERVICE_CONFIG).toConstantValue({homePage:'dashboard',authPage:'login',authMode:'client',redirectEnable:!1,superRole:['admin']}),e(u.Oy.AUTH_SERVICE).to(u.AuthService),e(u.Oy.HTTP_SERVICE_CONFIG).toDynamicValue((function(e){var n=e.container.get(u.Oy.SESSION_SERVICE);return{baseURL:i.O.APP_APIHOST,withCredentials:!1,addXMLHttpRequestHeader:!0,transformResponse:function(e){return e},configure:function(e,t){t.request.use((function(e){return e.headers.token||(e.headers.ApiToken=i.O.APP_NAME,e.headers.authorization=n.user.accessToken),e}),(function(e){return Promise.reject(e)})),t.response.use((function(e){var t,r,o,u,i,c,d,s,v,f;if((0,a.HD)(e.data)||!e.data||void 0===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.code)||0===(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.code)||200===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.code))return e;401!==(null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.code)&&403!==(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.code)||n.logout({expired:!0,message:null===e||void 0===e||null===(f=e.data)||void 0===f?void 0:f.msg});var p={code:null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.code,data:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data,message:(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.msg)||(null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.message)||l.ag._.global.tc(l.Q1.app.http.requestFailed)};return Promise.reject(p)}),(function(e){var t,r,o,a,u=null!==(t=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data)&&void 0!==t?t:{},i=null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.status;switch(i){case-1:a=l.ag._.global.tc(l.Q1.app.http.noResponse);break;case 401:a=l.ag._.global.tc(l.Q1.app.http.unauthorized),n.logout();break;case 408:a=l.ag._.global.tc(l.Q1.app.http.requestTimeout);break;default:a='ECONNABORTED'===e.err?l.ag._.global.tc(l.Q1.app.http.connectionAbort):'[object String]'===Object.prototype.toString.call(u)?u:u.msg||u.Message||l.ag._.global.tc(l.Q1.app.http.requestFailed)}return Promise.reject(new Error(a))}))}}})),e(u.Oy.HTTP_SERVICE).to(u.HttpService)}));d.load(s);var v=d.get(r.O.AUTH_SERVICE),f=d.get(r.O.SESSION_SERVICE),p=d.get(r.O.STORAGE_SERVICE),g=d.get(r.O.HTTP_SERVICE)},63960:function(e,n,t){t.d(n,{d:function(){return c}});var r=t(77713),o=t(16490),a=t(8364),u=t(89184),i='APP_STORE',l=(0,r.Z)({lang:a.ag._.global.locale},u.DU.get(i)),c=(0,o.M)(l,(function(e){var n=function(n){e.lang=n,a.ag.set(n),u.DU.set(i,e)};return e.lang!==a.ag._.global.locale&&n(e.lang),a.ag.hooks.afterSet.tap((function(n){e.lang=n})),{setLang:n}}))},87970:function(e,n,t){t.d(n,{O:function(){return r}});var r={LANG:'zh-CN',APP_NAME:'antdvx',APP_TITLE:'Antdvx',APP_APIHOST:'https://antdvx.fatesigner.com',APP_WEBHOST:'https://antdvx.fatesigner.com',PRIMARY_COLOR:'#1890ff'}},78949:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(62212);function o(e,n,t,o,a,u){var i=(0,r.up)('RouterView'),l=(0,r.up)('AConfigProvider');return(0,r.wg)(),(0,r.j4)(l,{locale:e.locale},{default:(0,r.w5)((function(){return[(0,r.Wm)(i)]})),_:1},8,['locale'])}var a=t(46858),u=t(90304),i=(t(12099),t(83352),t(5769),t(63238),t(61418),t(17460),t(14078),t(20391)),l=t(31110),c=t(8364),d=t(63960),s=(0,r.aZ)({components:(0,u.Z)({},i.ZP.name,i.ZP),setup:function(){var e=(0,l.iH)(null),n=function(){var n=(0,a.Z)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if('zh-CN'!==r){n.next=4;break}t.e(4828).then(t.bind(t,4828)).then((function(n){e.value=n.default})),n.next=5;break;case 4:return n.abrupt('return',Promise.resolve().then(t.bind(t,61946)).then((function(n){e.value=n.default})));case 5:case'end':return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return n(d.d.state.lang),(0,r.bv)((function(){c.ag.hooks.afterSet.tapAsync(n)})),{locale:e}}});s.render=o;var v=s}}]);