'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[8595],{93947:function(e,t,o){o.d(t,{N:function(){return C}});o(83352),o(53984);var i=o(72960),n=o(4354),r=o(16373),a=o(99762),l=o(353),d=o(56968),s=o(40528),h=o(70498),u=o(90614),p=o(20296),c=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._layers=[],o}return(0,i.ZT)(t,e),t.prototype.render=function(e,t,o){var i=e.getData(),l=this,p=this.group,c=e.getLayerSeries(),f=i.getLayout('layoutInfo'),y=f.rect,v=f.boundaryGap;function m(e){return e.name}p.x=0,p.y=y.y+v[0];var x=new u.Z(this._layersSeries||[],c,m,m),w=[];function N(t,o,h){var u=l._layers;if('remove'!==t){for(var f,y,v=[],m=[],x=c[o].indices,N=0;N<x.length;N++){var I=i.getItemLayout(x[N]),b=I.x,_=I.y0,M=I.y;v.push(b,_),m.push(b,_+M),f=i.getItemVisual(x[N],'style')}var S=i.getItemLayout(x[0]),L=e.getModel('label'),T=L.get('margin'),D=e.getModel('emphasis');if('add'===t){var R=w[o]=new a.Z;y=new n.K({shape:{points:v,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(y),p.add(R),e.isAnimationEnabled()&&y.setClipPath(g(y.getBoundingRect(),e,(function(){y.removeClipPath()})))}else{R=u[h];y=R.childAt(0),p.add(R),w[o]=R,r.updateProps(y,{shape:{points:v,stackedOnPoints:m}},e)}(0,s.ni)(y,(0,s.k3)(e),{labelDataIndex:x[N-1],defaultText:i.getName(x[N-1]),inheritColor:f.fill},{normal:{verticalAlign:'middle'}}),y.setTextConfig({position:null,local:!0});var C=y.getTextContent();C&&(C.x=S.x-T,C.y=S.y0+S.y/2),y.useStyle(f),i.setItemGraphicEl(o,y),(0,d.WO)(y,e),(0,d.vF)(y,D.get('focus'),D.get('blurScope'))}else p.remove(u[o])}x.add((0,h.bind)(N,this,'add')).update((0,h.bind)(N,this,'update')).remove((0,h.bind)(N,this,'remove')).execute(),this._layersSeries=c,this._layers=w},t.type='themeRiver',t}(p.Z);function g(e,t,o){var i=new l.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return r.initProps(i,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,o),i}var f=c,y=(o(69217),o(95163),o(28821)),v=o(60300),m=o(54963),x=o(43327),w=o(65328),N=o(68004),I=o(87918),b=2,_=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.useColorPaletteOnData=!0,o}return(0,i.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new N.Z(h.bind(this.getData,this),h.bind(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,o={},i=(0,w.pv)(e,(function(e){return o.hasOwnProperty(e[0]+'')||(o[e[0]+'']=-1),e[2]})),n=[];i.buckets.each((function(e,t){n.push({name:t,dataList:e})}));for(var r=n.length,a=0;a<r;++a){for(var l=n[a].name,d=0;d<n[a].dataList.length;++d){var s=n[a].dataList[d][0]+'';o[s]=a}for(var s in o)o.hasOwnProperty(s)&&o[s]!==a&&(o[s]=a,e[t]=[s,0,l],t++)}return e},t.prototype.getInitialData=function(e,t){for(var o=this.getReferringComponents('singleAxis',w.C6).models[0],i=o.get('type'),n=h.filter(e.data,(function(e){return void 0!==e[2]})),r=this.fixData(n||[]),a=[],l=this.nameMap=h.createHashMap(),d=0,s=0;s<r.length;++s)a.push(r[s][b]),l.get(r[s][b])||(l.set(r[s][b],d),d++);var u=(0,v.Z)(r,{coordDimensions:['single'],dimensionsDefine:[{name:'time',type:(0,m.T)(i)},{name:'value',type:'float'},{name:'name',type:'ordinal'}],encodeDefine:{single:0,value:1,itemName:2}}),p=new x.Z(u,this);return p.initData(r),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),o=[],i=0;i<t;++i)o[i]=i;var n=e.mapDimension('single'),r=(0,w.pv)(o,(function(t){return e.get('name',t)})),a=[];return r.buckets.each((function(t,o){t.sort((function(t,o){return e.get(n,t)-e.get(n,o)})),a.push({name:o,indices:t})})),a},t.prototype.getAxisTooltipData=function(e,t,o){h.isArray(e)||(e=e?[e]:[]);for(var i,n=this.getData(),r=this.getLayerSeries(),a=[],l=r.length,d=0;d<l;++d){for(var s=Number.MAX_VALUE,u=-1,p=r[d].indices.length,c=0;c<p;++c){var g=n.get(e[0],r[d].indices[c]),f=Math.abs(g-t);f<=s&&(i=g,s=f,u=r[d].indices[c])}a.push(u)}return{dataIndices:a,nestestValue:i}},t.prototype.formatTooltip=function(e,t,o){var i=this.getData(),n=i.getName(e),r=i.get(i.mapDimension('value'),e);return(0,I.TX)('nameValue',{name:n,value:r})},t.type='series.themeRiver',t.dependencies=['singleAxis'],t.defaultOption={zlevel:0,z:2,coordinateSystem:'singleAxis',boundaryGap:['10%','10%'],singleAxisIndex:0,animationEasing:'linear',label:{margin:4,show:!0,position:'left',fontSize:11},emphasis:{label:{show:!0}}},t}(y.Z),M=_,S=o(8391);function L(e,t){e.eachSeriesByType('themeRiver',(function(e){var t=e.getData(),o=e.coordinateSystem,i={},n=o.getRect();i.rect=n;var r=e.get('boundaryGap'),a=o.getAxis();if(i.boundaryGap=r,'horizontal'===a.orient){r[0]=S.GM(r[0],n.height),r[1]=S.GM(r[1],n.height);var l=n.height-r[0]-r[1];T(t,e,l)}else{r[0]=S.GM(r[0],n.width),r[1]=S.GM(r[1],n.width);var d=n.width-r[0]-r[1];T(t,e,d)}t.setLayout('layoutInfo',i)}))}function T(e,t,o){if(e.count())for(var i,n=t.coordinateSystem,r=t.getLayerSeries(),a=e.mapDimension('single'),l=e.mapDimension('value'),d=h.map(r,(function(t){return h.map(t.indices,(function(t){var o=n.dataToPoint(e.get(a,t));return o[1]=e.get(l,t),o}))})),s=D(d),u=s.y0,p=o/s.max,c=r.length,g=r[0].indices.length,f=0;f<g;++f){i=u[f]*p,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:d[0][f][0],y0:i,y:d[0][f][1]*p});for(var y=1;y<c;++y)i+=d[y-1][f][1]*p,e.setItemLayout(r[y].indices[f],{layerIndex:y,x:d[y][f][0],y0:i,y:d[y][f][1]*p})}}function D(e){for(var t=e.length,o=e[0].length,i=[],n=[],r=0,a=0;a<o;++a){for(var l=0,d=0;d<t;++d)l+=e[d][a][1];l>r&&(r=l),i.push(l)}for(var s=0;s<o;++s)n[s]=(r-i[s])/2;r=0;for(var h=0;h<o;++h){var u=i[h]+n[h];u>r&&(r=u)}return{y0:n,max:r}}var R=o(77743);function C(e){e.registerChartView(f),e.registerSeriesModel(M),e.registerLayout(L),e.registerProcessor((0,R.Z)('themeRiver'))}},64728:function(e,t,o){o.d(t,{N:function(){return oe}});o(53984);var i=o(72960),n=o(70498),r=o(16373),a=o(99762),l=o(47385),d=o(35412),s=o(94999),h=o(89770);function u(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var o,i,n=[t];while(o=n.pop())if(i=o.children,o.isExpand&&i.length)for(var r=i.length,a=r-1;a>=0;a--){var l=i[a];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},n.push(l)}}function p(e,t){var o=e.isExpand?e.children:[],i=e.parentNode.children,n=e.hierNode.i?i[e.hierNode.i-1]:null;if(o.length){v(e);var r=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=m(e,n,e.parentNode.hierNode.defaultAncestor||i[0],t)}function c(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function g(e){return arguments.length?e:b}function f(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function y(e,t){return h.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function v(e){var t=e.children,o=t.length,i=0,n=0;while(--o>=0){var r=t[o];r.hierNode.prelim+=i,r.hierNode.modifier+=i,n+=r.hierNode.change,i+=r.hierNode.shift+n}}function m(e,t,o,i){if(t){var n=e,r=e,a=r.parentNode.children[0],l=t,d=n.hierNode.modifier,s=r.hierNode.modifier,h=a.hierNode.modifier,u=l.hierNode.modifier;while(l=x(l),r=w(r),l&&r){n=x(n),a=w(a),n.hierNode.ancestor=e;var p=l.hierNode.prelim+u-r.hierNode.prelim-s+i(l,r);p>0&&(I(N(l,e,o),e,p),s+=p,d+=p),u+=l.hierNode.modifier,s+=r.hierNode.modifier,d+=n.hierNode.modifier,h+=a.hierNode.modifier}l&&!x(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=u-d),r&&!w(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=s-h,o=e)}return o}function x(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function w(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function N(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function I(e,t,o){var i=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=i}function b(e,t){return e.parentNode===t.parentNode?1:2}var _=o(75604),M=o(80445),S=o(55818),L=o(19227),T=o(42952),D=o(8391),R=o(20296),C=o(32107),A=o(56968),Z=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),V=function(e){function t(t){return e.call(this,t)||this}return(0,i.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:'#000',fill:null}},t.prototype.getDefaultShape=function(){return new Z},t.prototype.buildPath=function(e,t){var o=t.childPoints,i=o.length,n=t.parentPoint,r=o[0],a=o[i-1];if(1===i)return e.moveTo(n[0],n[1]),void e.lineTo(r[0],r[1]);var l=t.orient,d='TB'===l||'BT'===l?0:1,s=1-d,h=(0,D.GM)(t.forkPosition,1),u=[];u[d]=n[d],u[s]=n[s]+(a[s]-n[s])*h,e.moveTo(n[0],n[1]),e.lineTo(u[0],u[1]),e.moveTo(r[0],r[1]),u[d]=r[d],e.lineTo(u[0],u[1]),u[d]=a[d],e.lineTo(u[0],u[1]),e.lineTo(a[0],a[1]);for(var p=1;p<i-1;p++){var c=o[p];e.moveTo(c[0],c[1]),u[d]=c[d],e.lineTo(u[0],u[1])}},t}(C.ZP),P=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new a.Z,o}return(0,i.ZT)(t,e),t.prototype.init=function(e,t){this._controller=new L.Z(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var i=e.getData(),n=e.layoutInfo,r=this._mainGroup,a=e.get('layout');'radial'===a?(r.x=n.x+n.width/2,r.y=n.y+n.height/2):(r.x=n.x,r.y=n.y),this._updateViewCoordSys(e),this._updateController(e,t,o);var l=this._data;i.diff(l).add((function(t){E(i,t)&&k(i,t,null,r,e)})).update((function(t,o){var n=l.getItemGraphicEl(o);E(i,t)?k(i,t,n,r,e):n&&z(l,o,n,r,e)})).remove((function(t){var o=l.getItemGraphicEl(t);o&&z(l,t,o,r,e)})).execute(),this._nodeScaleRatio=e.get('nodeScaleRatio'),this._updateNodeAndLinkScale(e),!0===e.get('expandAndCollapse')&&i.eachItemGraphicEl((function(t,i){t.off('click').on('click',(function(){o.dispatchAction({type:'treeExpandAndCollapse',seriesId:e.id,dataIndex:i})}))})),this._data=i},t.prototype._updateViewCoordSys=function(e){var t=e.getData(),o=[];t.each((function(e){var i=t.getItemLayout(e);!i||isNaN(i.x)||isNaN(i.y)||o.push([+i.x,+i.y])}));var i=[],n=[];_.zk(o,i,n);var r=this._min,a=this._max;n[0]-i[0]===0&&(i[0]=r?r[0]:i[0]-1,n[0]=a?a[0]:n[0]+1),n[1]-i[1]===0&&(i[1]=r?r[1]:i[1]-1,n[1]=a?a[1]:n[1]+1);var l=e.coordinateSystem=new M.Z;l.zoomLimit=e.get('scaleLimit'),l.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1]),l.setCenter(e.get('center')),l.setZoom(e.get('zoom')),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=n},t.prototype._updateController=function(e,t,o){var i=this,n=this._controller,r=this._controllerHost,a=this.group;n.setPointerChecker((function(t,i,n){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,n)&&!(0,T.l)(t,o,e)})),n.enable(e.get('roam')),r.zoomLimit=e.get('scaleLimit'),r.zoom=e.coordinateSystem.getZoom(),n.off('pan').off('zoom').on('pan',(function(t){S.e(r,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:'treeRoam',dx:t.dx,dy:t.dy})})).on('zoom',(function(t){S.H(r,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:'treeRoam',zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(e),o.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),o=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(o)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if('view'!==t.type)return 1;var o=this._nodeScaleRatio,i=t.scaleX||1,n=t.getZoom(),r=(n-1)*o+1;return r/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type='tree',t}(R.Z);function E(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)}function k(e,t,o,i,n){var a=!o,l=e.tree.getNodeByDataIndex(t),h=l.getModel(),u=l.getVisual('style').fill,p=!1===l.isExpand&&0!==l.children.length?u:'#fff',c=e.tree.root,g=l.parentNode===c?l:l.parentNode||l,f=e.getItemGraphicEl(g.dataIndex),y=g.getLayout(),v=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:y,m=l.getLayout();a?(o=new s.Z(e,t,null,{symbolInnerColor:p,useNameLabel:!0}),o.x=v.x,o.y=v.y):o.updateData(e,t,null,{symbolInnerColor:p,useNameLabel:!0}),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=m.rawX,o.__radialRawY=m.rawY,i.add(o),e.setItemGraphicEl(t,o),o.__oldX=o.x,o.__oldY=o.y,r.updateProps(o,{x:m.x,y:m.y},n);var x=o.getSymbolPath();if('radial'===n.get('layout')){var w=c.children[0],N=w.getLayout(),I=w.children.length,b=void 0,_=void 0;if(m.x===N.x&&!0===l.isExpand){var M={x:(w.children[0].getLayout().x+w.children[I-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[I-1].getLayout().y)/2};b=Math.atan2(M.y-N.y,M.x-N.x),b<0&&(b=2*Math.PI+b),_=M.x<N.x,_&&(b-=Math.PI)}else b=Math.atan2(m.y-N.y,m.x-N.x),b<0&&(b=2*Math.PI+b),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(_=m.x<N.x,_&&(b-=Math.PI)):(_=m.x>N.x,_||(b-=Math.PI));var S=_?'left':'right',L=h.getModel('label'),T=L.get('rotate'),D=T*(Math.PI/180),R=x.getTextContent();R&&(x.setTextConfig({position:L.get('position')||S,rotation:null==T?-b:D,origin:'center'}),R.setStyle('verticalAlign','middle'))}var C=h.get(['emphasis','focus']),Z='ancestor'===C?l.getAncestorsIndices():'descendant'===C?l.getDescendantIndices():null;Z&&((0,d.A)(o).focus=Z),G(n,l,c,o,v,y,m,i),o.__edge&&(o.onHoverStateChange=function(t){if('blur'!==t){var i=l.parentNode&&e.getItemGraphicEl(l.parentNode.dataIndex);i&&i.hoverState===A.CX||(0,A.Gl)(o.__edge,t)}})}function G(e,t,o,i,a,d,s,h){var u=t.getModel(),p=e.get('edgeShape'),c=e.get('layout'),g=e.getOrient(),f=e.get(['lineStyle','curveness']),y=e.get('edgeForkPosition'),v=u.getModel('lineStyle').getLineStyle(),m=i.__edge;if('curve'===p)t.parentNode&&t.parentNode!==o&&(m||(m=i.__edge=new l.Z({shape:B(c,g,f,a,a)})),r.updateProps(m,{shape:B(c,g,f,d,s)},e));else if('polyline'===p)if('orthogonal'===c){if(t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var x=t.children,w=[],N=0;N<x.length;N++){var I=x[N].getLayout();w.push([I.x,I.y])}m||(m=i.__edge=new V({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:g,forkPosition:y}})),r.updateProps(m,{shape:{parentPoint:[s.x,s.y],childPoints:w}},e)}}else 0;m&&(m.useStyle(n.defaults({strokeNoScale:!0,fill:null},v)),(0,A.WO)(m,u,'lineStyle'),(0,A.MA)(m),h.add(m))}function z(e,t,o,i,n){var a,l=e.tree.getNodeByDataIndex(t),d=e.tree.root,s=l.parentNode===d?l:l.parentNode||l;while(a=s.getLayout(),null==a)s=s.parentNode===d?s:s.parentNode||s;var h={duration:n.get('animationDurationUpdate'),easing:n.get('animationEasingUpdate')};r.removeElement(o,{x:a.x+1,y:a.y+1},n,{cb:function(){i.remove(o),e.setItemGraphicEl(t,null)},removeOpt:h}),o.fadeOut(null,{fadeLabel:!0,animation:h});var u=e.getItemGraphicEl(s.dataIndex),p=u.__edge,c=o.__edge||(!1===s.isExpand||1===s.children.length?p:void 0),g=n.get('edgeShape'),f=n.get('layout'),y=n.get('orient'),v=n.get(['lineStyle','curveness']);c&&('curve'===g?r.removeElement(c,{shape:B(f,y,v,a,a),style:{opacity:0}},n,{cb:function(){i.remove(c)},removeOpt:h}):'polyline'===g&&'orthogonal'===n.get('layout')&&r.removeElement(c,{shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]]},style:{opacity:0}},n,{cb:function(){i.remove(c)},removeOpt:h}))}function B(e,t,o,i,n){var r,a,l,d,s,h,u,p;if('radial'===e){s=i.rawX,u=i.rawY,h=n.rawX,p=n.rawY;var c=f(s,u),g=f(s,u+(p-u)*o),y=f(h,p+(u-p)*o),v=f(h,p);return{x1:c.x||0,y1:c.y||0,x2:v.x||0,y2:v.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}return s=i.x,u=i.y,h=n.x,p=n.y,'LR'!==t&&'RL'!==t||(r=s+(h-s)*o,a=u,l=h+(s-h)*o,d=p),'TB'!==t&&'BT'!==t||(r=s,a=u+(p-u)*o,l=h,d=p+(u-p)*o),{x1:s,y1:u,x2:h,y2:p,cpx1:r,cpy1:a,cpx2:l,cpy2:d}}var W=P,O=(o(83352),o(28821)),X=o(2210),Y=o(70998),H=o(87918),F=o(31961),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,i.ZT)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},o=e.leaves||{},i=new Y.Z(o,this,this.ecModel),n=X.Z.createTree(t,this,r);function r(e){e.wrapMethod('getItemModel',(function(e,t){var o=n.getNodeByDataIndex(t);return o&&o.children.length&&o.isExpand||(e.parentModel=i),e}))}var a=0;n.eachNode('preorder',(function(e){e.depth>a&&(a=e.depth)}));var l=e.expandAndCollapse,d=l&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return n.root.eachNode('preorder',(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=d})),n.data},t.prototype.getOrient=function(){var e=this.get('orient');return'horizontal'===e?e='LR':'vertical'===e&&(e='TB'),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,o){var i=this.getData().tree,n=i.root.children[0],r=i.getNodeByDataIndex(e),a=r.getValue(),l=r.name;while(r&&r!==n)l=r.parentNode.name+'.'+l,r=r.parentNode;return(0,H.TX)('nameValue',{name:l,value:a,noValue:isNaN(a)||null==a})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=(0,F.n3)(i,this),o},t.type='series.tree',t.layoutMode='box',t.defaultOption={zlevel:0,z:2,coordinateSystem:'view',left:'12%',top:'12%',right:'12%',bottom:'12%',layout:'orthogonal',edgeShape:'curve',edgeForkPosition:'50%',roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:'LR',symbol:'emptyCircle',symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:'#ccc',width:1.5,curveness:.5},itemStyle:{color:'lightsteelblue',borderWidth:1.5},label:{show:!0},animationEasing:'linear',animationDuration:700,animationDurationUpdate:500},t}(O.Z),q=U;function j(e,t,o){var i,n=[e],r=[];while(i=n.pop())if(r.push(i),i.isExpand){var a=i.children;if(a.length)for(var l=0;l<a.length;l++)n.push(a[l])}while(i=r.pop())t(i,o)}function J(e,t){var o,i=[e];while(o=i.pop())if(t(o),o.isExpand){var n=o.children;if(n.length)for(var r=n.length-1;r>=0;r--)i.push(n[r])}}function K(e,t){e.eachSeriesByType('tree',(function(e){$(e,t)}))}function $(e,t){var o=y(e,t);e.layoutInfo=o;var i=e.get('layout'),n=0,r=0,a=null;'radial'===i?(n=2*Math.PI,r=Math.min(o.height,o.width)/2,a=g((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(n=o.width,r=o.height,a=g());var l=e.getData().tree.root,d=l.children[0];if(d){u(l),j(d,p,a),l.hierNode.modifier=-d.hierNode.prelim,J(d,c);var s=d,h=d,v=d;J(d,(function(e){var t=e.getLayout().x;t<s.getLayout().x&&(s=e),t>h.getLayout().x&&(h=e),e.depth>v.depth&&(v=e)}));var m=s===h?1:a(s,h)/2,x=m-s.getLayout().x,w=0,N=0,I=0,b=0;if('radial'===i)w=n/(h.getLayout().x+m+x),N=r/(v.depth-1||1),J(d,(function(e){I=(e.getLayout().x+x)*w,b=(e.depth-1)*N;var t=f(I,b);e.setLayout({x:t.x,y:t.y,rawX:I,rawY:b},!0)}));else{var _=e.getOrient();'RL'===_||'LR'===_?(N=r/(h.getLayout().x+m+x),w=n/(v.depth-1||1),J(d,(function(e){b=(e.getLayout().x+x)*N,I='LR'===_?(e.depth-1)*w:n-(e.depth-1)*w,e.setLayout({x:I,y:b},!0)}))):'TB'!==_&&'BT'!==_||(w=n/(h.getLayout().x+m+x),N=r/(v.depth-1||1),J(d,(function(e){I=(e.getLayout().x+x)*w,b='TB'===_?(e.depth-1)*N:r-(e.depth-1)*N,e.setLayout({x:I,y:b},!0)})))}}}function Q(e){e.eachSeriesByType('tree',(function(e){var t=e.getData(),o=t.tree;o.eachNode((function(e){var o=e.getModel(),i=o.getModel('itemStyle').getItemStyle(),r=t.ensureUniqueItemVisual(e.dataIndex,'style');(0,n.extend)(r,i)}))}))}var ee=o(11703);function te(e){e.registerAction({type:'treeExpandAndCollapse',event:'treeExpandAndCollapse',update:'update'},(function(e,t){t.eachComponent({mainType:'series',subType:'tree',query:e},(function(t){var o=e.dataIndex,i=t.getData().tree,n=i.getNodeByDataIndex(o);n.isExpand=!n.isExpand}))})),e.registerAction({type:'treeRoam',event:'treeRoam',update:'none'},(function(e,t){t.eachComponent({mainType:'series',subType:'tree',query:e},(function(t){var o=t.coordinateSystem,i=(0,ee.A)(o,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}function oe(e){e.registerChartView(W),e.registerSeriesModel(q),e.registerLayout(K),e.registerVisual(Q),te(e)}},61815:function(e,t,o){o.d(t,{N:function(){return ze}});var i=o(31961),n=function(){},r=['treemapZoomToNode','treemapRender','treemapMove'];function a(e){for(var t=0;t<r.length;t++)e.registerAction({type:r[t],update:'updateView'},n);e.registerAction({type:'treemapRootToNode',update:'updateView'},(function(e,t){function o(t,o){var n=['treemapZoomToNode','treemapRootToNode'],r=i.d1(e,n,t);if(r){var a=t.getViewRoot();a&&(e.direction=i.Gx(a,r.node)?'rollUp':'drillDown'),t.resetViewRoot(r.node)}}t.eachComponent({mainType:'series',subType:'treemap',query:e},o)}))}o(83352),o(72410);var l=o(72960),d=o(70498),s=o(28821),h=o(2210),u=o(70998),p=o(65328),c=o(87918),g=o(19442),f=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return(0,l.ZT)(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};y(o);var i=e.levels||[],n=this.designatedVisualItemStyle={},r=new u.Z({itemStyle:n},this,t);i=e.levels=v(i,t);var a=d.map(i||[],(function(e){return new u.Z(e,r,t)}),this),l=h.Z.createTree(o,this,s);function s(e){e.wrapMethod('getItemModel',(function(e,t){var o=l.getNodeByDataIndex(t),i=o?a[o.depth]:null;return e.parentModel=i||r,e}))}return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var i=this.getData(),n=this.getRawValue(e),r=i.getName(e);return(0,c.TX)('nameValue',{name:r,value:n})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return o.treePathInfo=(0,i.n3)(n,this),o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},d.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=d.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){(0,g.Z)(this)},t.type='series.treemap',t.layoutMode='box',t.defaultOption={progressive:0,left:'center',top:'middle',width:'80%',height:'80%',sort:!0,clipWindow:'origin',squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:'▶',zoomToNodeRatio:.1024,roam:!0,nodeClick:'zoomToNode',animation:!0,animationDurationUpdate:900,animationEasing:'quinticInOut',breadcrumb:{show:!0,height:22,left:'center',top:'bottom',emptyItemWidth:25,itemStyle:{color:'rgba(0,0,0,0.7)',textStyle:{color:'#fff'}}},label:{show:!0,distance:0,padding:5,position:'inside',color:'#fff',overflow:'truncate'},upperLabel:{show:!1,position:[0,'50%'],height:20,overflow:'truncate',verticalAlign:'middle'},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:'#fff',borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,'50%'],ellipsis:!0,verticalAlign:'middle'}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:'index',visibleMin:10,childrenVisibleMin:null,levels:[]},t}(s.Z);function y(e){var t=0;d.each(e.children,(function(e){y(e);var o=e.value;d.isArray(o)&&(o=o[0]),t+=o}));var o=e.value;d.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),d.isArray(e.value)?e.value[0]=o:e.value=o}function v(e,t){var o=(0,p.kF)(t.get('color')),i=(0,p.kF)(t.get(['aria','decal','decals']));if(o){var n,r;e=e||[],d.each(e,(function(e){var t=new u.Z(e),o=t.get('color'),i=t.get('decal');(t.get(['itemStyle','color'])||o&&'none'!==o)&&(n=!0),(t.get(['itemStyle','decal'])||i&&'none'!==i)&&(r=!0)}));var a=e[0]||(e[0]={});return n||(a.color=o.slice()),!r&&i&&(a.decal=i.slice()),e}}var m=f,x=(o(53984),o(99762)),w=o(353),N=o(35412),I=o(56968),b=o(90614),_=(o(38217),o(58062)),M=o(37858),S=o(89770),L=8,T=8,D=5,R=function(){function e(e){this.group=new x.Z,e.add(this.group)}return e.prototype.render=function(e,t,o,i){var n=e.getModel('breadcrumb'),r=this.group;if(r.removeAll(),n.get('show')&&o){var a=n.getModel('itemStyle'),l=a.getModel('textStyle'),d={pos:{left:n.get('left'),right:n.get('right'),top:n.get('top'),bottom:n.get('bottom')},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get('emptyItemWidth'),totalWidth:0,renderList:[]};this._prepare(o,d,l),this._renderContent(e,d,a,l,i),S.p$(r,d.pos,d.box)}},e.prototype._prepare=function(e,t,o){for(var i=e;i;i=i.parentNode){var n=(0,p.U5)(i.getModel().get('name'),''),r=o.getTextRect(n),a=Math.max(r.width+2*L,t.emptyItemWidth);t.totalWidth+=a+T,t.renderList.push({node:i,text:n,width:a})}},e.prototype._renderContent=function(e,t,o,i,n){for(var r=0,a=t.emptyItemWidth,l=e.get(['breadcrumb','height']),s=S.lq(t.pos,t.box),h=t.totalWidth,u=t.renderList,p=u.length-1;p>=0;p--){var c=u[p],g=c.node,f=c.width,y=c.text;h>s.width&&(h-=f-a,f=a,y=null);var v=new _.Z({shape:{points:C(r,0,f,l,p===u.length-1,0===p)},style:(0,d.defaults)(o.getItemStyle(),{lineJoin:'bevel'}),textContent:new M.ZP({style:{text:y,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:'inside'},z2:1e4*I.zr,onclick:(0,d.curry)(n,g)});v.disableLabelAnimation=!0,this.group.add(v),A(v,e,g),r+=f+T}},e.prototype.remove=function(){this.group.removeAll()},e}();function C(e,t,o,i,n,r){var a=[[n?e:e-D,t],[e+o,t],[e+o,t+i],[n?e:e-D,t+i]];return!r&&a.splice(2,0,[e+o+D,t+i/2]),!n&&a.push([e,t+i/2]),a}function A(e,t,o){(0,N.A)(e).eventData={componentType:'series',componentSubType:'treemap',componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:'treemap',selfType:'breadcrumb',nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&(0,i.n3)(o,t)}}var Z=R,V=o(19227),P=o(40443),E=o(15725),k=o(64366),G=o(38196),z=o(20296),B=o(59850),W=o(41490),O=o(40528),X=x.Z,Y=w.Z,H=3,F='label',U='upperLabel',q=10*I.zr,j=2*I.zr,J=3*I.zr,K=(0,G.Z)([['fill','color'],['stroke','strokeColor'],['lineWidth','strokeWidth'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['shadowColor']]),$=function(e){var t=K(e);return t.stroke=t.fill=t.lineWidth=null,t},Q=(0,p.Yf)(),ee=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state='ready',o._storage=te(),o}return(0,l.ZT)(t,e),t.prototype.render=function(e,t,o,n){var r=t.findComponents({mainType:'series',subType:'treemap',query:n});if(!((0,d.indexOf)(r,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var a=['treemapZoomToNode','treemapRootToNode'],l=i.d1(n,a,e),s=n&&n.type,h=e.layoutInfo,u=!this._oldTree,p=this._storage,c='treemapRootToNode'===s&&l&&p?{rootNodeGroup:p.nodeGroup[l.node.getRawIndex()],direction:n.direction}:null,g=this._giveContainerGroup(h),f=this._doRender(g,e,c);u||s&&'treemapZoomToNode'!==s&&'treemapRootToNode'!==s?f.renderFinally():this._doAnimation(g,f,e,c),this._resetController(o),this._renderBreadcrumb(e,o,l)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new X,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var i=t.getData().tree,n=this._oldTree,r=te(),a=te(),l=this._storage,s=[];function h(e,i,n,d){return oe(t,a,l,o,r,s,e,i,n,d)}p(i.root?[i.root]:[],n&&n.root?[n.root]:[],e,i===n||!n,0);var u=c(l);return this._oldTree=i,this._storage=a,{lastsForAnimation:r,willDeleteEls:u,renderFinally:g};function p(e,t,o,i,n){function r(e){return e.getId()}function a(r,a){var l=null!=r?e[r]:null,d=null!=a?t[a]:null,s=h(l,d,o,n);s&&p(l&&l.viewChildren||[],d&&d.viewChildren||[],s,i,n+1)}i?(t=e,(0,d.each)(e,(function(e,t){!e.isRemoved()&&a(t,t)}))):new b.Z(t,e,r,r).add(a).update(a).remove((0,d.curry)(a,null)).execute()}function c(e){var t=te();return e&&(0,d.each)(e,(function(e,o){var i=t[o];(0,d.each)(e,(function(e){e&&(i.push(e),Q(e).willDelete=!0)}))})),t}function g(){(0,d.each)(u,(function(e){(0,d.each)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,d.each)(s,(function(e){e.invisible=!0,e.dirty()}))}},t.prototype._doAnimation=function(e,t,o,i){if(o.get('animation')){var n=o.get('animationDurationUpdate'),r=o.get('animationEasing'),a=((0,d.isFunction)(n)?0:n)||0,l=((0,d.isFunction)(r)?null:r)||'cubicOut',s=k.o();(0,d.each)(t.willDeleteEls,(function(e,t){(0,d.each)(e,(function(e,o){if(!e.invisible){var n,r=e.parent,d=Q(r);if(i&&'drillDown'===i.direction)n=r===i.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,u=0;d.willDelete||(h=d.nodeWidth/2,u=d.nodeHeight/2),n='nodeGroup'===t?{x:h,y:u,style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}n&&s.add(e,n,a,0,l)}}))})),(0,d.each)(this._storage,(function(e,o){(0,d.each)(e,(function(e,i){var n=t.lastsForAnimation[o][i],r={};n&&(e instanceof x.Z?null!=n.oldX&&(r.x=e.x,r.y=e.y,e.x=n.oldX,e.y=n.oldY):(n.oldShape&&(r.shape=(0,d.extend)({},e.shape),e.setShape(n.oldShape)),n.fadein?(e.setStyle('opacity',0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),s.add(e,r,a,0,l))}))}),this),this._state='animating',s.finished((0,d.bind)((function(){this._state='ready',t.renderFinally()}),this)).start()}},t.prototype._resetController=function(e){var t=this._controller;t||(t=this._controller=new V.Z(e.getZr()),t.enable(this.seriesModel.get('roam')),t.on('pan',(0,d.bind)(this._onPan,this)),t.on('zoom',(0,d.bind)(this._onZoom,this)));var o=new P.Z(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return o.contain(t,i)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if('animating'!==this._state&&(Math.abs(e.dx)>H||Math.abs(e.dy)>H)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:'treemapMove',from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY;if('animating'!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;var r=new P.Z(n.x,n.y,n.width,n.height),a=this.seriesModel.layoutInfo;t-=a.x,o-=a.y;var l=E.create();E.translate(l,l,[-t,-o]),E.scale(l,l,[e.scale,e.scale]),E.translate(l,l,[t,o]),r.applyTransform(l),this.api.dispatchAction({type:'treemapRender',from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on('click',(function(e){if('ready'===t._state){var o=t.seriesModel.get('nodeClick',!0);if(o){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)t._rootToNode(i);else if('zoomToNode'===o)t._zoomToNode(i);else if('link'===o){var r=n.hostTree.data.getItemModel(n.dataIndex),a=r.get('link',!0),l=r.get('target',!0)||'blank';a&&(0,W.MI)(a,l)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,o){var n=this;o||(o=null!=e.get('leafDepth',!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),o||(o={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Z(this.group))).render(e,t,o.node,(function(t){'animating'!==n._state&&(i.Gx(e.getViewRoot(),t)?n._rootToNode({node:t}):n._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=te(),this._state='ready',this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:'treemapZoomToNode',from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:'treemapRootToNode',from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o,i=this.seriesModel.getViewRoot();return i.eachNode({attr:'viewChildren',order:'preorder'},(function(i){var n=this._storage.background[i.getRawIndex()];if(n){var r=n.transformCoordToLocal(e,t),a=n.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;o={node:i,offsetX:r[0],offsetY:r[1]}}}),this),o},t.type='treemap',t}(z.Z);function te(){return{nodeGroup:[],background:[],content:[]}}function oe(e,t,o,i,n,r,a,l,s,h){if(a){var u=a.getLayout(),c=e.getData(),g=a.getModel();if(c.setItemGraphicEl(a.dataIndex,null),u&&u.isInView){var f=u.width,y=u.height,v=u.borderWidth,m=u.invisible,w=a.getRawIndex(),b=l&&l.getRawIndex(),_=a.viewChildren,M=u.upperHeight,S=_&&_.length,L=g.getModel('itemStyle'),T=g.getModel(['emphasis','itemStyle']),D=g.getModel(['blur','itemStyle']),R=g.getModel(['select','itemStyle']),C=L.get('borderRadius')||0,A=ee('nodeGroup',X);if(A){if(s.add(A),A.x=u.x||0,A.y=u.y||0,A.markRedraw(),Q(A).nodeWidth=f,Q(A).nodeHeight=y,u.isAboveViewRoot)return A;var Z=ee('background',Y,h,j);Z&&G(A,Z,S&&u.upperLabelHeight);var V=g.get(['emphasis','focus']),P=g.get(['emphasis','blurScope']),E='ancestor'===V?a.getAncestorsIndices():'descendant'===V?a.getDescendantIndices():V;if(S)(0,I.Av)(A)&&(0,I.Nj)(A,!1),Z&&((0,I.Nj)(Z,!0),c.setItemGraphicEl(a.dataIndex,Z),(0,I.Ib)(Z,E,P));else{var k=ee('content',Y,h,J);k&&z(A,k),Z&&(0,I.Av)(Z)&&(0,I.Nj)(Z,!1),(0,I.Nj)(A,!0),c.setItemGraphicEl(a.dataIndex,A),(0,I.Ib)(A,E,P)}return A}}}function G(t,o,i){var n=(0,N.A)(o);if(n.dataIndex=a.dataIndex,n.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:f,height:y,r:C}),m)W(o);else{o.invisible=!1;var r=a.getVisual('style'),l=r.stroke,d=$(L);d.fill=l;var s=K(T);s.fill=T.get('borderColor');var h=K(D);h.fill=D.get('borderColor');var u=K(R);if(u.fill=R.get('borderColor'),i){var p=f-2*v;H(o,l,r.opacity,{x:v,y:0,width:p,height:M})}else o.removeTextContent();o.setStyle(d),o.ensureState('emphasis').style=s,o.ensureState('blur').style=h,o.ensureState('select').style=u,(0,I.MA)(o)}t.add(o)}function z(t,o){var i=(0,N.A)(o);i.dataIndex=a.dataIndex,i.seriesIndex=e.seriesIndex;var n=Math.max(f-2*v,0),r=Math.max(y-2*v,0);if(o.culling=!0,o.setShape({x:v,y:v,width:n,height:r,r:C}),m)W(o);else{o.invisible=!1;var l=a.getVisual('style'),d=l.fill,s=$(L);s.fill=d,s.decal=l.decal;var h=K(T),u=K(D),p=K(R);H(o,d,l.opacity,null),o.setStyle(s),o.ensureState('emphasis').style=h,o.ensureState('blur').style=u,o.ensureState('select').style=p,(0,I.MA)(o)}t.add(o)}function W(e){!e.invisible&&r.push(e)}function H(t,o,i,n){var r=g.getModel(n?U:F),l=(0,p.U5)(g.get('name'),null),s=r.getShallow('show');(0,O.ni)(t,(0,O.k3)(g,n?U:F),{defaultText:s?l:null,inheritColor:o,defaultOpacity:i,labelFetcher:e,labelDataIndex:a.dataIndex});var h=t.getTextContent(),c=h.style,f=(0,d.normalizeCssArray)(c.padding||0);n&&(t.setTextConfig({layoutRect:n}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((n?n.width:t.shape.width)-f[1]-f[3],0),o=Math.max((n?n.height:t.shape.height)-f[0]-f[2],0);c.width===e&&c.height===o||h.setStyle({width:e,height:o})},c.truncateMinChar=2,c.lineOverflow='truncate',q(c,n,u);var y=h.getState('emphasis');q(y?y.style:null,n,u)}function q(t,o,i){var n=t?t.text:null;if(!o&&i.isLeafRoot&&null!=n){var r=e.get('drillDownIcon',!0);t.text=r?r+' '+n:n}}function ee(e,i,r,a){var l=null!=b&&o[e][b],d=n[e];return l?(o[e][b]=null,te(d,l)):m||(l=new i,l instanceof B.ZP&&(l.z2=ie(r,a)),oe(d,l)),t[e][w]=l}function te(e,t){var o=e[w]={};t instanceof X?(o.oldX=t.x,o.oldY=t.y):o.oldShape=(0,d.extend)({},t.shape)}function oe(e,t){var o=e[w]={},r=a.parentNode,l=t instanceof x.Z;if(r&&(!i||'drillDown'===i.direction)){var d=0,s=0,h=n.background[r.getRawIndex()];!i&&h&&h.oldShape&&(d=h.oldShape.width,s=h.oldShape.height),l?(o.oldX=0,o.oldY=s):o.oldShape={x:d,y:s,width:0,height:0}}o.fadein=!l}}function ie(e,t){return e*q+t}var ne=ee,re=o(8953),ae=o(39780),le='itemStyle',de=(0,p.Yf)(),se={seriesType:'treemap',reset:function(e){var t=e.getData().tree,o=t.root;o.isRemoved()||he(o,{},e.getViewRoot().getAncestors(),e)}};function he(e,t,o,i){var n=e.getModel(),r=e.getLayout(),a=e.hostTree.data;if(r&&!r.invisible&&r.isInView){var l,s=n.getModel(le),h=ue(s,t,i),u=a.ensureUniqueItemVisual(e.dataIndex,'style'),p=s.get('borderColor'),c=s.get('borderColorSaturation');null!=c&&(l=pe(h),p=ce(c,l)),u.stroke=p;var g=e.viewChildren;if(g&&g.length){var f=fe(e,n,r,s,h,g);(0,d.each)(g,(function(e,t){if(e.depth>=o.length||e===o[e.depth]){var r=ve(n,h,e,t,f,i);he(e,r,o,i)}}))}else l=pe(h),u.fill=l}}function ue(e,t,o){var i=(0,d.extend)({},t),n=o.designatedVisualItemStyle;return(0,d.each)(['color','colorAlpha','colorSaturation'],(function(o){n[o]=t[o];var r=e.get(o);n[o]=null,null!=r&&(i[o]=r)})),i}function pe(e){var t=ge(e,'color');if(t){var o=ge(e,'colorAlpha'),i=ge(e,'colorSaturation');return i&&(t=(0,ae.modifyHSL)(t,null,null,i)),o&&(t=(0,ae.modifyAlpha)(t,o)),t}}function ce(e,t){return null!=t?(0,ae.modifyHSL)(t,null,null,e):null}function ge(e,t){var o=e[t];if(null!=o&&'none'!==o)return o}function fe(e,t,o,i,n,r){if(r&&r.length){var a=ye(t,'color')||null!=n.color&&'none'!==n.color&&(ye(t,'colorAlpha')||ye(t,'colorSaturation'));if(a){var l=t.get('visualMin'),d=t.get('visualMax'),s=o.dataExtent.slice();null!=l&&l<s[0]&&(s[0]=l),null!=d&&d>s[1]&&(s[1]=d);var h=t.get('colorMappingBy'),u={type:a.name,dataExtent:s,visual:a.range};'color'!==u.type||'index'!==h&&'id'!==h?u.mappingMethod='linear':(u.mappingMethod='category',u.loop=!0);var p=new re.Z(u);return de(p).drColorMappingBy=h,p}}}function ye(e,t){var o=e.get(t);return(0,d.isArray)(o)&&o.length?{name:t,range:o}:null}function ve(e,t,o,i,n,r){var a=(0,d.extend)({},t);if(n){var l=n.type,s='color'===l&&de(n).drColorMappingBy,h='index'===s?i:'id'===s?r.mapIdToIndex(o.getId()):o.getValue(e.get('visualDimension'));a[l]=n.mapValueToVisual(h)}return a}o(69217);var me=o(8391),xe=Math.max,we=Math.min,Ne=d.retrieve,Ie=d.each,be=['itemStyle','borderWidth'],_e=['itemStyle','gapWidth'],Me=['upperLabel','show'],Se=['upperLabel','height'],Le={seriesType:'treemap',reset:function(e,t,o,n){var r=o.getWidth(),a=o.getHeight(),l=e.option,s=S.ME(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),h=l.size||[],u=(0,me.GM)(Ne(s.width,h[0]),r),p=(0,me.GM)(Ne(s.height,h[1]),a),c=n&&n.type,g=['treemapZoomToNode','treemapRootToNode'],f=i.d1(n,g,e),y='treemapRender'===c||'treemapMove'===c?n.rootRect:null,v=e.getViewRoot(),m=i.zN(v);if('treemapMove'!==c){var x='treemapZoomToNode'===c?Pe(e,f,v,u,p):y?[y.width,y.height]:[u,p],w=l.sort;w&&'asc'!==w&&'desc'!==w&&(w='desc');var N={squareRatio:l.squareRatio,sort:w,leafDepth:l.leafDepth};v.hostTree.clearLayouts();var I={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};v.setLayout(I),Te(v,N,!1,0),I=v.getLayout(),Ie(m,(function(e,t){var o=(m[t+1]||v).getValue();e.setLayout(d.extend({dataExtent:[o,o],borderWidth:0,upperHeight:0},I))}))}var b=e.getData().tree.root;b.setLayout(Ee(s,y,f),!0),e.setLayoutInfo(s),ke(b,new P.Z(-s.x,-s.y,r,a),m,v,0)}};function Te(e,t,o,i){var n,r;if(!e.isRemoved()){var a=e.getLayout();n=a.width,r=a.height;var l=e.getModel(),d=l.get(be),s=l.get(_e)/2,h=Ge(l),u=Math.max(d,h),p=d-s,c=u-s;e.setLayout({borderWidth:d,upperHeight:u,upperLabelHeight:h},!0),n=xe(n-2*p,0),r=xe(r-p-c,0);var g=n*r,f=De(e,l,g,t,o,i);if(f.length){var y={x:p,y:c,width:n,height:r},v=we(n,r),m=1/0,x=[];x.area=0;for(var w=0,N=f.length;w<N;){var I=f[w];x.push(I),x.area+=I.getLayout().area;var b=Ze(x,v,t.squareRatio);b<=m?(w++,m=b):(x.area-=x.pop().getLayout().area,Ve(x,v,y,s,!1),v=we(y.width,y.height),x.length=x.area=0,m=1/0)}if(x.length&&Ve(x,v,y,s,!0),!o){var _=l.get('childrenVisibleMin');null!=_&&g<_&&(o=!0)}for(w=0,N=f.length;w<N;w++)Te(f[w],t,o,i+1)}}}function De(e,t,o,i,n,r){var a=e.children||[],l=i.sort;'asc'!==l&&'desc'!==l&&(l=null);var s=null!=i.leafDepth&&i.leafDepth<=r;if(n&&!s)return e.viewChildren=[];a=d.filter(a,(function(e){return!e.isRemoved()})),Ce(a,l);var h=Ae(t,a,l);if(0===h.sum)return e.viewChildren=[];if(h.sum=Re(t,o,h.sum,l,a),0===h.sum)return e.viewChildren=[];for(var u=0,p=a.length;u<p;u++){var c=a[u].getValue()/h.sum*o;a[u].setLayout({area:c})}return s&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:h.dataExtent},!0),a}function Re(e,t,o,i,n){if(!i)return o;for(var r=e.get('visibleMin'),a=n.length,l=a,d=a-1;d>=0;d--){var s=n['asc'===i?a-d-1:d].getValue();s/o*t<r&&(l=d,o-=s)}return'asc'===i?n.splice(0,a-l):n.splice(l,a-l),o}function Ce(e,t){return t&&e.sort((function(e,o){var i='asc'===t?e.getValue()-o.getValue():o.getValue()-e.getValue();return 0===i?'asc'===t?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:i})),e}function Ae(e,t,o){for(var i=0,n=0,r=t.length;n<r;n++)i+=t[n].getValue();var a,l=e.get('visualDimension');return t&&t.length?'value'===l&&o?(a=[t[t.length-1].getValue(),t[0].getValue()],'asc'===o&&a.reverse()):(a=[1/0,-1/0],Ie(t,(function(e){var t=e.getValue(l);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN],{sum:i,dataExtent:a}}function Ze(e,t,o){for(var i=0,n=1/0,r=0,a=void 0,l=e.length;r<l;r++)a=e[r].getLayout().area,a&&(a<n&&(n=a),a>i&&(i=a));var d=e.area*e.area,s=t*t*o;return d?xe(s*i/d,d/(s*n)):1/0}function Ve(e,t,o,i,n){var r=t===o.width?0:1,a=1-r,l=['x','y'],d=['width','height'],s=o[l[r]],h=t?e.area/t:0;(n||h>o[d[a]])&&(h=o[d[a]]);for(var u=0,p=e.length;u<p;u++){var c=e[u],g={},f=h?c.getLayout().area/h:0,y=g[d[a]]=xe(h-2*i,0),v=o[l[r]]+o[d[r]]-s,m=u===p-1||v<f?v:f,x=g[d[r]]=xe(m-2*i,0);g[l[a]]=o[l[a]]+we(i,y/2),g[l[r]]=s+we(i,x/2),s+=m,c.setLayout(g,!0)}o[l[a]]+=h,o[d[a]]-=h}function Pe(e,t,o,i,n){var r,a=(t||{}).node,l=[i,n];if(!a||a===o)return l;var d=i*n,s=d*e.option.zoomToNodeRatio;while(r=a.parentNode){for(var h=0,u=r.children,p=0,c=u.length;p<c;p++)h+=u[p].getValue();var g=a.getValue();if(0===g)return l;s*=h/g;var f=r.getModel(),y=f.get(be),v=Math.max(y,Ge(f));s+=4*y*y+(3*y+v)*Math.pow(s,.5),s>me.YM&&(s=me.YM),a=r}s<d&&(s=d);var m=Math.pow(s/d,.5);return[i*m,n*m]}function Ee(e,t,o){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!o)return i;var n=o.node,r=n.getLayout();if(!r)return i;var a=[r.width/2,r.height/2],l=n;while(l){var d=l.getLayout();a[0]+=d.x,a[1]+=d.y,l=l.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}function ke(e,t,o,i,n){var r=e.getLayout(),a=o[n],l=a&&a===e;if(!(a&&!l||n===o.length&&e!==i)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(r),isAboveViewRoot:l},!0);var d=new P.Z(t.x-r.x,t.y-r.y,t.width,t.height);Ie(e.viewChildren||[],(function(e){ke(e,d,o,i,n+1)}))}}function Ge(e){return e.get(Me)?e.get(Se):0}function ze(e){e.registerSeriesModel(m),e.registerChartView(ne),e.registerVisual(se),e.registerLayout(Le),a(e)}}}]);