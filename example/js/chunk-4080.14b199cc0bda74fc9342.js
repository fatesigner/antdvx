'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[4080],{10696:function(e,t,n){function a(e){var t=e.findComponents({mainType:'legend'});t&&t.length&&e.eachSeriesByType('graph',(function(e){var n=e.getCategoriesData(),a=e.getGraph(),i=a.data,o=n.mapArray(n.getName);i.filterSelf((function(e){var n=i.getItemModel(e),a=n.getShallow('category');if(null!=a){'number'===typeof a&&(a=o[a]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(a))return!1}return!0}))}))}n.d(t,{N:function(){return ve}});n(53984);var i=n(70498);function o(e){var t={};e.eachSeriesByType('graph',(function(e){var n=e.getCategoriesData(),a=e.getData(),o={};n.each((function(a){var i=n.getName(a);o['ec-'+i]=a;var r=n.getItemModel(a),s=r.getModel('itemStyle').getItemStyle();s.fill||(s.fill=e.getColorFromPalette(i,t)),n.setItemVisual(a,'style',s);for(var l=['symbol','symbolSize','symbolKeepAspect'],u=0;u<l.length;u++){var c=r.getShallow(l[u],!0);null!=c&&n.setItemVisual(a,l[u],c)}})),n.count()&&a.each((function(e){var t=a.getItemModel(e),r=t.getShallow('category');if(null!=r){'string'===typeof r&&(r=o['ec-'+r]);var s=n.getItemVisual(r,'style'),l=a.ensureUniqueItemVisual(e,'style');(0,i.extend)(l,s);for(var u=['symbol','symbolSize','symbolKeepAspect'],c=0;c<u.length;c++)a.setItemVisual(e,u[c],n.getItemVisual(r,u[c]))}}))}))}function r(e){return e instanceof Array||(e=[e,e]),e}function s(e){e.eachSeriesByType('graph',(function(e){var t=e.getGraph(),n=e.getEdgeData(),a=r(e.get('edgeSymbol')),o=r(e.get('edgeSymbolSize'));n.setVisual('fromSymbol',a&&a[0]),n.setVisual('toSymbol',a&&a[1]),n.setVisual('fromSymbolSize',o&&o[0]),n.setVisual('toSymbolSize',o&&o[1]),n.setVisual('style',e.getModel('lineStyle').getLineStyle()),n.each((function(e){var a=n.getItemModel(e),o=t.getEdgeByIndex(e),s=r(a.getShallow('symbol',!0)),l=r(a.getShallow('symbolSize',!0)),u=a.getModel('lineStyle').getLineStyle(),c=n.ensureUniqueItemVisual(e,'style');switch((0,i.extend)(c,u),c.stroke){case'source':var p=o.node1.getVisual('style');c.stroke=p&&p.fill;break;case'target':p=o.node2.getVisual('style');c.stroke=p&&p.fill;break}s[0]&&o.setVisual('fromSymbol',s[0]),s[1]&&o.setVisual('toSymbol',s[1]),l[0]&&o.setVisual('fromSymbolSize',l[0]),l[1]&&o.setVisual('toSymbolSize',l[1])}))}))}n(23938);var l=n(56712),u=(n(25613),n(52077),n(72482),'--\x3e'),c=function(e){return e.get('autoCurveness')||null},p=function(e,t){var n=c(e),a=20,o=[];if('number'===typeof n)a=n;else if(i.isArray(n))return void(e.__curvenessList=n);t>a&&(a=t);var r=a%2?a+2:a+3;o=[];for(var s=0;s<r;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},d=function(e,t,n){var a=[e.id,e.dataIndex].join('.'),i=[t.id,t.dataIndex].join('.');return[n.uid,a,i].join(u)},h=function(e){var t=e.split(u);return[t[0],t[2],t[1]].join(u)},f=function(e,t){var n=d(e.node1,e.node2,t);return t.__edgeMap[n]},g=function(e,t){var n=y(d(e.node1,e.node2,t),t),a=y(d(e.node2,e.node1,t),t);return n+a},y=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function m(e){c(e)&&(e.__curvenessList=[],e.__edgeMap={},p(e))}function v(e,t,n,a){if(c(n)){var i=d(e,t,n),o=n.__edgeMap,r=o[h(i)];o[i]&&!r?o[i].isForward=!0:r&&o[i]&&(r.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(a)}}function _(e,t,n,a){var o=c(t),r=i.isArray(o);if(!o)return null;var s=f(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var m=g(e,t);p(t,m),e.lineStyle=e.lineStyle||{};var v=d(e.node1,e.node2,t),_=t.__curvenessList,S=r||m%2?0:1;if(s.isForward)return _[S+l];var x=h(v),b=y(x,t),I=_[l+b+S];return a?r?o&&0===o[0]?(b+S)%2?I:-I:((b%2?0:1)+S)%2?I:-I:(b+S)%2?I:-I:_[l+b+S]}function S(e){var t=e.coordinateSystem;if(!t||'view'===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get('x'),+t.get('y')])})),x(n,e)}}function x(e,t){e.eachEdge((function(e,n){var a=i.retrieve3(e.getModel().get(['lineStyle','curveness']),-_(e,t,n,!0),0),o=l.clone(e.node1.getLayout()),r=l.clone(e.node2.getLayout()),s=[o,r];+a&&s.push([(o[0]+r[0])/2-(o[1]-r[1])*a,(o[1]+r[1])/2-(r[0]-o[0])*a]),e.setLayout(s)}))}function b(e,t){e.eachSeriesByType('graph',(function(e){var t=e.get('layout'),n=e.coordinateSystem;if(n&&'view'!==n.type){var a=e.getData(),o=[];(0,i.each)(n.dimensions,(function(e){o=o.concat(a.mapDimensionsAll(e))}));for(var r=0;r<a.count();r++){for(var s=[],l=!1,u=0;u<o.length;u++){var c=a.get(o[u],r);isNaN(c)||(l=!0),s.push(c)}l?a.setItemLayout(r,n.dataToPoint(s)):a.setItemLayout(r,[NaN,NaN])}x(a.graph,e)}else t&&'none'!==t||S(e)}))}function I(e){var t=e.coordinateSystem;if('view'!==t.type)return 1;var n=e.option.nodeScaleRatio,a=t.scaleX,i=t.getZoom(),o=(i-1)*n+1;return o/a}function A(e){var t=e.getVisual('symbolSize');return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var M=Math.PI,L=[];function w(e,t){var n=e.coordinateSystem;if(!n||'view'===n.type){var a=n.getBoundingRect(),o=e.getData(),r=o.graph,s=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,p=o.count();o.setLayout({cx:s,cy:u}),p&&(D[t](e,r,o,c,s,u,p),r.eachEdge((function(t,n){var a,o=i.retrieve3(t.getModel().get(['lineStyle','curveness']),_(t,e,n),0),r=l.clone(t.node1.getLayout()),c=l.clone(t.node2.getLayout()),p=(r[0]+c[0])/2,d=(r[1]+c[1])/2;+o&&(o*=3,a=[s*o+p*(1-o),u*o+d*(1-o)]),t.setLayout([r,c,a])})))}}var D={value:function(e,t,n,a,i,o,r){var s=0,l=n.getSum('value'),u=2*Math.PI/(l||r);t.eachNode((function(e){var t=e.getValue('value'),n=u*(l?t:1)/2;s+=n,e.setLayout([a*Math.cos(s)+i,a*Math.sin(s)+o]),s+=n}))},symbolSize:function(e,t,n,a,i,o,r){var s=0;L.length=r;var l=I(e);t.eachNode((function(e){var t=A(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/a);isNaN(n)&&(n=M/2),L[e.dataIndex]=n,s+=2*n}));var u=(2*M-s)/r/2,c=0;t.eachNode((function(e){var t=u+L[e.dataIndex];c+=t,e.setLayout([a*Math.cos(c)+i,a*Math.sin(c)+o]),c+=t}))}};function N(e){e.eachSeriesByType('graph',(function(e){'circular'===e.get('layout')&&w(e,'symbolSize')}))}n(81048),n(72410);var C=l.scaleAndAdd;function T(e,t,n){for(var a=e,i=t,o=n.rect,r=o.width,s=o.height,u=[o.x+r/2,o.y+s/2],c=null==n.gravity?.1:n.gravity,p=0;p<a.length;p++){var d=a[p];d.p||(d.p=l.create(r*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),d.pp=l.clone(d.p),d.edges=null}var h,f,g=null==n.friction?.6:n.friction,y=g;return{warmUp:function(){y=.8*g},setFixed:function(e){a[e].fixed=!0},setUnfixed:function(e){a[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){f=e},step:function(e){h&&h(a,i);for(var t=[],n=a.length,o=0;o<i.length;o++){var r=i[o];if(!r.ignoreForceLayout){var s=r.n1,p=r.n2;l.sub(t,p.p,s.p);var d=l.len(t)-r.d,g=p.w/(s.w+p.w);isNaN(g)&&(g=0),l.normalize(t,t),!s.fixed&&C(s.p,s.p,t,g*d*y),!p.fixed&&C(p.p,p.p,t,-(1-g)*d*y)}}for(o=0;o<n;o++){var m=a[o];m.fixed||(l.sub(t,u,m.p),C(m.p,m.p,t,c*y))}for(o=0;o<n;o++){s=a[o];for(var v=o+1;v<n;v++){p=a[v];l.sub(t,p.p,s.p);d=l.len(t);0===d&&(l.set(t,Math.random()-.5,Math.random()-.5),d=1);var _=(s.rep+p.rep)/d/d;!s.fixed&&C(s.pp,s.pp,t,_),!p.fixed&&C(p.pp,p.pp,t,-_)}}var S=[];for(o=0;o<n;o++){m=a[o];m.fixed||(l.sub(S,m.p,m.pp),C(m.p,m.p,S,y),l.copy(m.pp,m.p))}y*=.992;var x=y<.01;f&&f(a,i,x),e&&e(x)}}}var P=n(8391);function Z(e){e.eachSeriesByType('graph',(function(e){var t=e.coordinateSystem;if(!t||'view'===t.type)if('force'===e.get('layout')){var n=e.preservedPoints||{},a=e.getGraph(),o=a.data,r=a.edgeData,s=e.getModel('force'),u=s.get('initLayout');e.preservedPoints?o.each((function(e){var t=o.getId(e);o.setItemLayout(e,n[t]||[NaN,NaN])})):u&&'none'!==u?'circular'===u&&w(e,'value'):S(e);var c=o.getDataExtent('value'),p=r.getDataExtent('value'),d=s.get('repulsion'),h=s.get('edgeLength'),f=i.isArray(d)?d:[d,d],g=i.isArray(h)?h:[h,h];g=[g[1],g[0]];var y=o.mapArray('value',(function(e,t){var n=o.getItemLayout(t),a=(0,P.NU)(e,c,f);return isNaN(a)&&(a=(f[0]+f[1])/2),{w:a,rep:a,fixed:o.getItemModel(t).get('fixed'),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=r.mapArray('value',(function(t,n){var o=a.getEdgeByIndex(n),r=(0,P.NU)(t,p,g);isNaN(r)&&(r=(g[0]+g[1])/2);var s=o.getModel(),l=i.retrieve3(o.getModel().get(['lineStyle','curveness']),-_(o,e,n,!0),0);return{n1:y[o.node1.dataIndex],n2:y[o.node2.dataIndex],d:r,curveness:l,ignoreForceLayout:s.get('ignoreForceLayout')}})),v=t.getBoundingRect(),x=T(y,m,{rect:v,gravity:s.get('gravity'),friction:s.get('friction')});x.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&l.copy(e[n].p,a.getNodeByIndex(n).getLayout())})),x.afterStep((function(e,t,i){for(var r=0,s=e.length;r<s;r++)e[r].fixed||a.getNodeByIndex(r).setLayout(e[r].p),n[o.getId(r)]=e[r].p;for(r=0,s=t.length;r<s;r++){var u=t[r],c=a.getEdgeByIndex(r),p=u.n1.p,d=u.n2.p,h=c.getLayout();h=h?h.slice():[],h[0]=h[0]||[],h[1]=h[1]||[],l.copy(h[0],p),l.copy(h[1],d),+u.curveness&&(h[2]=[(p[0]+d[0])/2-(p[1]-d[1])*u.curveness,(p[1]+d[1])/2-(d[0]-p[0])*u.curveness]),c.setLayout(h)}})),e.forceLayout=x,e.preservedPoints=n,x.step()}else e.forceLayout=null}))}var z=n(80445),E=n(89770),V=n(75604);function O(e,t,n){var a=(0,i.extend)(e.getBoxLayoutParams(),{aspect:n});return(0,E.ME)(a,{width:t.getWidth(),height:t.getHeight()})}function k(e,t){var n=[];return e.eachSeriesByType('graph',(function(e){var a=e.get('coordinateSystem');if(!a||'view'===a){var i=e.getData(),o=i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get('x'),+t.get('y')]})),r=[],s=[];V.zk(o,r,s),s[0]-r[0]===0&&(s[0]+=1,r[0]-=1),s[1]-r[1]===0&&(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),u=O(e,t,l);isNaN(l)&&(r=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-r[0],p=s[1]-r[1],d=u.width,h=u.height,f=e.coordinateSystem=new z.Z;f.zoomLimit=e.get('scaleLimit'),f.setBoundingRect(r[0],r[1],c,p),f.setViewRect(u.x,u.y,d,h),f.setCenter(e.get('center')),f.setZoom(e.get('zoom')),n.push(f)}})),n}var R=n(72960),B=n(48016),G=n(54154),F=n(19227),Y=n(55818),U=n(42952),X=n(16373),H=n(2768),j=[],q=[],W=[],K=H.Zm,J=l.distSquare,Q=Math.abs;function $(e,t,n){for(var a,i=e[0],o=e[1],r=e[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){j[0]=K(i[0],o[0],r[0],c),j[1]=K(i[1],o[1],r[1],c);var p=Q(J(j,t)-l);p<s&&(s=p,a=c)}for(var d=0;d<32;d++){var h=a+u;q[0]=K(i[0],o[0],r[0],a),q[1]=K(i[1],o[1],r[1],a),W[0]=K(i[0],o[0],r[0],h),W[1]=K(i[1],o[1],r[1],h);p=J(q,t)-l;if(Q(p)<.01)break;var f=J(W,t)-l;u/=2,p<0?f>=0?a+=u:a-=u:f>=0?a-=u:a+=u}return a}function ee(e,t){var n=[],a=H.Lx,i=[[],[],[]],o=[[],[]],r=[];t/=2,e.eachEdge((function(e,s){var u=e.getLayout(),c=e.getVisual('fromSymbol'),p=e.getVisual('toSymbol');u.__original||(u.__original=[l.clone(u[0]),l.clone(u[1])],u[2]&&u.__original.push(l.clone(u[2])));var d=u.__original;if(null!=u[2]){if(l.copy(i[0],d[0]),l.copy(i[1],d[2]),l.copy(i[2],d[1]),c&&'none'!==c){var h=A(e.node1),f=$(i,d[0],h*t);a(i[0][0],i[1][0],i[2][0],f,n),i[0][0]=n[3],i[1][0]=n[4],a(i[0][1],i[1][1],i[2][1],f,n),i[0][1]=n[3],i[1][1]=n[4]}if(p&&'none'!==p){h=A(e.node2),f=$(i,d[1],h*t);a(i[0][0],i[1][0],i[2][0],f,n),i[1][0]=n[1],i[2][0]=n[2],a(i[0][1],i[1][1],i[2][1],f,n),i[1][1]=n[1],i[2][1]=n[2]}l.copy(u[0],i[0]),l.copy(u[1],i[2]),l.copy(u[2],i[1])}else{if(l.copy(o[0],d[0]),l.copy(o[1],d[1]),l.sub(r,o[1],o[0]),l.normalize(r,r),c&&'none'!==c){h=A(e.node1);l.scaleAndAdd(o[0],o[0],r,h*t)}if(p&&'none'!==p){h=A(e.node2);l.scaleAndAdd(o[1],o[1],r,-h*t)}l.copy(u[0],o[0]),l.copy(u[1],o[1])}}))}var te=n(20296),ne=n(35412);function ae(e){return'view'===e.type}var ie=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,R.ZT)(t,e),t.prototype.init=function(e,t){var n=new B.Z,a=new G.Z,i=this.group;this._controller=new F.Z(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,t,n){var a=this,o=e.coordinateSystem;this._model=e;var r=this._symbolDraw,s=this._lineDraw,l=this.group;if(ae(o)){var u={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?l.attr(u):X.updateProps(l,u,e)}ee(e.getGraph(),I(e));var c=e.getData();r.updateData(c);var p=e.getEdgeData();s.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,h=e.get(['force','layoutAnimation']);d&&this._startForceLayoutIteration(d,h),c.graph.eachNode((function(e){var t=e.dataIndex,n=e.getGraphicEl(),i=e.getModel();n.off('drag').off('dragend');var o=i.get('draggable');o&&n.on('drag',(function(){d&&(d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,h),d.setFixed(t),c.setItemLayout(t,[n.x,n.y]))})).on('dragend',(function(){d&&d.setUnfixed(t)})),n.setDraggable(o&&!!d);var r=i.get(['emphasis','focus']);'adjacency'===r&&((0,ne.A)(n).focus=e.getAdjacentDataIndices())})),c.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(['emphasis','focus']);'adjacency'===n&&((0,ne.A)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var f='circular'===e.get('layout')&&e.get(['circular','rotateLabel']),g=c.getLayout('cx'),y=c.getLayout('cy');c.eachItemGraphicEl((function(e,t){var n=c.getItemModel(t),a=n.get(['label','rotate'])||0,o=e.getSymbolPath();if(f){var r=c.getItemLayout(t),s=Math.atan2(r[1]-y,r[0]-g);s<0&&(s=2*Math.PI+s);var l=r[0]<g;l&&(s-=Math.PI);var u=l?'left':'right';o.setTextConfig({rotation:-s,position:u,origin:'center'});var p=o.ensureState('emphasis');i.extend(p.textConfig||(p.textConfig={}),{position:u})}else o.setTextConfig({rotation:a*=Math.PI/180})})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;(function a(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(a,16):a())}))})()},t.prototype._updateController=function(e,t,n){var a=this,i=this._controller,o=this._controllerHost,r=this.group;i.setPointerChecker((function(t,a,i){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(a,i)&&!(0,U.l)(t,n,e)})),ae(e.coordinateSystem)?(i.enable(e.get('roam')),o.zoomLimit=e.get('scaleLimit'),o.zoom=e.coordinateSystem.getZoom(),i.off('pan').off('zoom').on('pan',(function(t){Y.e(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:'graphRoam',dx:t.dx,dy:t.dy})})).on('zoom',(function(t){Y.H(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:'graphRoam',zoom:t.scale,originX:t.originX,originY:t.originY}),a._updateNodeAndLinkScale(),ee(e.getGraph(),I(e)),a._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=I(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){ee(e.getGraph(),I(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type='graph',t}(te.Z),oe=ie,re=n(43327),se=n(65328),le=n(70998),ue=n(50943),ce=n(68004),pe=n(28821),de=n(87918),he=n(39371),fe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,R.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function a(){return n._categoriesData}this.legendVisualProvider=new ce.Z(a,a),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,se.Cc)(t,'edgeLabel',['show'])},t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&n){m(this);var r=(0,ue.Z)(a,n,this,!0,s);return i.each(r.edges,(function(e){v(e.node1,e.node2,this,e.dataIndex)}),this),r.data}function s(e,t){e.wrapMethod('getItemModel',(function(e){var t=o._categoriesModels,n=e.getShallow('category'),a=t[n];return a&&(a.parentModel=e.parentModel,e.parentModel=a),e}));var n=le.Z.prototype.getModel;function a(e,t){var a=n.call(this,e,t);return a.resolveParentPath=i,a}function i(e){if(e&&('label'===e[0]||'label'===e[1])){var t=e.slice();return'label'===e[0]?t[0]='edgeLabel':'label'===e[1]&&(t[1]='edgeLabel'),t}return e}t.wrapMethod('getItemModel',(function(e){return e.resolveParentPath=i,e.getModel=a,e}))}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if('edge'===n){var a=this.getData(),i=this.getDataParams(e,n),o=a.graph.getEdgeByIndex(e),r=a.getName(o.node1.dataIndex),s=a.getName(o.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,de.TX)('nameValue',{name:l.join(' > '),value:i.value,noValue:null==i.value})}var u=(0,he.w)({series:this,dataIndex:e,multipleSeries:t});return u},t.prototype._updateCategoriesData=function(){var e=i.map(this.option.categories||[],(function(e){return null!=e.value?e:i.extend({value:0},e)})),t=new re.Z(['value'],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!('force'===this.get('layout')&&this.get(['force','layoutAnimation']))},t.type='series.graph',t.dependencies=['grid','polar','geo','singleAxis','calendar'],t.defaultOption={zlevel:0,z:2,coordinateSystem:'view',legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:'center',top:'center',symbol:'circle',symbolSize:10,edgeSymbol:['none','none'],edgeSymbolSize:10,edgeLabel:{position:'middle',distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:'{b}'},itemStyle:{},lineStyle:{color:'#aaa',width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:'#212121'}}},t}(pe.Z),ge=fe,ye=n(11703),me={type:'graphRoam',event:'graphRoam',update:'none'};function ve(e){e.registerChartView(oe),e.registerSeriesModel(ge),e.registerProcessor(a),e.registerVisual(o),e.registerVisual(s),e.registerLayout(b),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,N),e.registerLayout(Z),e.registerCoordinateSystem('graphView',{dimensions:z.Z.dimensions,create:k}),e.registerAction({type:'focusNodeAdjacency',event:'focusNodeAdjacency',update:'series:focusNodeAdjacency'},(function(){})),e.registerAction({type:'unfocusNodeAdjacency',event:'unfocusNodeAdjacency',update:'series:unfocusNodeAdjacency'},(function(){})),e.registerAction(me,(function(e,t){t.eachComponent({mainType:'series',query:e},(function(t){var n=t.coordinateSystem,a=(0,ye.A)(n,e);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom)}))}))}},49257:function(e,t,n){n.d(t,{N:function(){return A}});var a=n(72960),i=n(353),o=n(79573),r=n(56968),s=(n(53984),n(5769),n(63238),n(9360),n(73712),n(82979),n(6160),n(61849),n(25540),n(30896),n(20936),n(10040),n(5923),n(85246),n(97635),n(68774),n(8373),n(29706),n(86964),n(34630),n(75389),n(81244),n(89981),n(33807),n(62627),n(34950),n(61964),n(70498)),l=256,u=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=s.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,a,i,o){var r=this._getBrush(),s=this._getGradient(i,'inRange'),u=this._getGradient(i,'outOfRange'),c=this.pointSize+this.blurSize,p=this.canvas,d=p.getContext('2d'),h=e.length;p.width=t,p.height=n;for(var f=0;f<h;++f){var g=e[f],y=g[0],m=g[1],v=g[2],_=a(v);d.globalAlpha=_,d.drawImage(r,y-c,m-c)}if(!p.width||!p.height)return p;var S=d.getImageData(0,0,p.width,p.height),x=S.data,b=0,I=x.length,A=this.minOpacity,M=this.maxOpacity,L=M-A;while(b<I){_=x[b+3]/256;var w=4*Math.floor(_*(l-1));if(_>0){var D=o(_)?s:u;_>0&&(_=_*L+A),x[b++]=D[w],x[b++]=D[w+1],x[b++]=D[w+2],x[b++]=D[w+3]*_*256}else b+=4}return d.putImageData(S,0,0),p},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=s.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var a=e.getContext('2d');return a.clearRect(0,0,n,n),a.shadowOffsetX=n,a.shadowBlur=this.blurSize,a.shadowColor='#000',a.beginPath(),a.arc(-t,t,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,a=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,r=0;r<256;r++)e[t](r/255,!0,i),a[o++]=i[0],a[o++]=i[1],a[o++]=i[2],a[o++]=i[3];return a},e}(),c=u,p=n(20296),d=n(88347),h=n(40528);function f(e,t,n){var a=e[1]-e[0];t=s.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/a,(t.interval[1]-e[0])/a]}}));var i=t.length,o=0;return function(e){var a;for(a=o;a<i;a++){var r=t[a].interval;if(r[0]<=e&&e<=r[1]){o=a;break}}if(a===i)for(a=o-1;a>=0;a--){r=t[a].interval;if(r[0]<=e&&e<=r[1]){o=a;break}}return a>=0&&a<i&&n[a]}}function g(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}function y(e){var t=e.dimensions;return'lng'===t[0]&&'lat'===t[1]}var m=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a;t.eachComponent('visualMap',(function(t){t.eachTargetSeries((function(n){n===e&&(a=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var i=e.coordinateSystem;'cartesian2d'===i.type||'calendar'===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):y(i)&&this._renderOnGeo(i,e,a,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,a){var i=t.coordinateSystem;i&&(y(i)?this.render(t,n,a):this._renderOnCartesianAndCalendar(t,a,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,a,o){var s,l,u,c,p=e.coordinateSystem;if((0,d.H)(p,'cartesian2d')){var f=p.getAxis('x'),g=p.getAxis('y');0,s=f.getBandWidth(),l=g.getBandWidth(),u=f.scale.getExtent(),c=g.scale.getExtent()}for(var y=this.group,m=e.getData(),v=e.getModel(['emphasis','itemStyle']).getItemStyle(),_=e.getModel(['blur','itemStyle']).getItemStyle(),S=e.getModel(['select','itemStyle']).getItemStyle(),x=(0,h.k3)(e),b=e.get(['emphasis','focus']),I=e.get(['emphasis','blurScope']),A=(0,d.H)(p,'cartesian2d')?[m.mapDimension('x'),m.mapDimension('y'),m.mapDimension('value')]:[m.mapDimension('time'),m.mapDimension('value')],M=n;M<a;M++){var L=void 0,w=m.getItemVisual(M,'style');if((0,d.H)(p,'cartesian2d')){var D=m.get(A[0],M),N=m.get(A[1],M);if(isNaN(m.get(A[2],M))||D<u[0]||D>u[1]||N<c[0]||N>c[1])continue;var C=p.dataToPoint([D,N]);L=new i.Z({shape:{x:Math.floor(Math.round(C[0])-s/2),y:Math.floor(Math.round(C[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:w})}else{if(isNaN(m.get(A[1],M)))continue;L=new i.Z({z2:1,shape:p.dataToRect([m.get(A[0],M)]).contentShape,style:w})}var T=m.getItemModel(M);if(m.hasItemOption){var P=T.getModel('emphasis');v=P.getModel('itemStyle').getItemStyle(),_=T.getModel(['blur','itemStyle']).getItemStyle(),S=T.getModel(['select','itemStyle']).getItemStyle(),b=P.get('focus'),I=P.get('blurScope'),x=(0,h.k3)(T)}var Z=e.getRawValue(M),z='-';Z&&null!=Z[2]&&(z=Z[2]+''),(0,h.ni)(L,x,{labelFetcher:e,labelDataIndex:M,defaultOpacity:w.opacity,defaultText:z}),L.ensureState('emphasis').style=v,L.ensureState('blur').style=_,L.ensureState('select').style=S,(0,r.vF)(L,b,I),L.incremental=o,o&&(L.states.emphasis.hoverLayer=!0),y.add(L),m.setItemGraphicEl(M,L)}},t.prototype._renderOnGeo=function(e,t,n,a){var i=n.targetVisuals.inRange,r=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=t.get('blurSize'),l.pointSize=t.get('pointSize'),l.minOpacity=t.get('minOpacity'),l.maxOpacity=t.get('maxOpacity');var u=e.getViewRect().clone(),p=e.getRoamTransform();u.applyTransform(p);var d=Math.max(u.x,0),h=Math.max(u.y,0),y=Math.min(u.width+u.x,a.getWidth()),m=Math.min(u.height+u.y,a.getHeight()),v=y-d,_=m-h,S=[s.mapDimension('lng'),s.mapDimension('lat'),s.mapDimension('value')],x=s.mapArray(S,(function(t,n,a){var i=e.dataToPoint([t,n]);return i[0]-=d,i[1]-=h,i.push(a),i})),b=n.getExtent(),I='visualMap.continuous'===n.type?g(b,n.option.range):f(b,n.getPieceList(),n.option.selected);l.update(x,v,_,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:r.color.getColorMapper()},I);var A=new o.ZP({style:{width:v,height:_,x:d,y:h,image:l.canvas},silent:!0});this.group.add(A)},t.type='heatmap',t}(p.Z),v=m,_=n(28821),S=n(78583),x=n(86237),b=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,S.Z)(this.getSource(),this,{generateCoord:'value'})},t.prototype.preventIncremental=function(){var e=x.Z.get(this.get('coordinateSystem'));if(e&&e.dimensions)return'lng'===e.dimensions[0]&&'lat'===e.dimensions[1]},t.type='series.heatmap',t.dependencies=['grid','geo','calendar'],t.defaultOption={coordinateSystem:'cartesian2d',zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:'#212121'}}},t}(_.Z),I=b;function A(e){e.registerChartView(v),e.registerSeriesModel(I)}},68288:function(e,t,n){n(72410);var a=n(72960),i=n(99762),o=n(75620),r=n(70498),s=n(57075),l=n(56712),u=n(2768),c=function(e){function t(t,n,a){var i=e.call(this)||this;return i.add(i.createLine(t,n,a)),i._updateEffectSymbol(t,n),i}return(0,a.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new o.Z(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t),a=n.getModel('effect'),i=a.get('symbolSize'),o=a.get('symbol');r.isArray(i)||(i=[i,i]);var l=e.getItemVisual(t,'style'),u=a.get('color')||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=(0,s.t)(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle('shadowColor',u),c.setStyle(a.getItemStyle(['color'])),c.scaleX=i[0],c.scaleY=i[1],c.setColor(u),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(e,a,t))},t.prototype._updateEffectAnimation=function(e,t,n){var a=this.childAt(1);if(a){var i=this,o=e.getItemLayout(n),s=1e3*t.get('period'),l=t.get('loop'),u=t.get('constantSpeed'),c=r.retrieve(t.get('delay'),(function(t){return t/e.count()*s/3}));if(a.ignore=!0,this._updateAnimationPoints(a,o),u>0&&(s=this._getLineLength(a)/u*1e3),(s!==this._period||l!==this._loop)&&(a.stopAnimation(),s>0)){var p=void 0;p='function'===typeof c?c(n):c,a.__t>0&&(p=-s*a.__t),a.__t=0;var d=a.animate('',l).when(s,{__t:1}).delay(p).during((function(){i._updateSymbolPosition(a)}));l||d.done((function(){i.remove(a)})),d.start()}this._period=s,this._loop=l}},t.prototype._getLineLength=function(e){return l.dist(e.__p1,e.__cp1)+l.dist(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,a=e.__cp1,i=e.__t,o=[e.x,e.y],r=o.slice(),s=u.Zm,c=u.AZ;o[0]=s(t[0],a[0],n[0],i),o[1]=s(t[1],a[1],n[1],i);var p=c(t[0],a[0],n[0],i),d=c(t[1],a[1],n[1],i);e.rotation=-Math.atan2(d,p)-Math.PI/2,'line'!==this._symbolType&&'rect'!==this._symbolType&&'roundRect'!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*l.dist(r,o),1===i&&(o[0]=r[0]+(o[0]-r[0])/2,o[1]=r[1]+(o[1]-r[1])/2)):1===e.__lastT?e.scaleY=2*l.dist(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel('effect');this._updateEffectAnimation(e,n,t)},t}(i.Z);t['Z']=c},21687:function(e,t,n){var a=n(72960),i=n(57331),o=n(68288),r=n(56712),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,a.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new i.Z(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],a=0,i=1;i<t.length;i++){var o=t[i-1],s=t[i];a+=r.dist(o,s),n.push(a)}if(0!==a){for(i=0;i<n.length;i++)n[i]/=a;this._offsets=n,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t,n=this._points,a=this._offsets,i=n.length;if(a){var o,r=this._lastFrame;if(t<this._lastFramePercent){var s=Math.min(r+1,i-1);for(o=s;o>=0;o--)if(a[o]<=t)break;o=Math.min(o,i-2)}else{for(o=r;o<i;o++)if(a[o]>t)break;o=Math.min(o-1,i-2)}var l=(t-a[o])/(a[o+1]-a[o]),u=n[o],c=n[o+1];e.x=u[0]*(1-l)+l*c[0],e.y=u[1]*(1-l)+l*c[1];var p=c[0]-u[0],d=c[1]-u[1];e.rotation=-Math.atan2(d,p)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(o.Z);t['Z']=s},79538:function(e,t,n){n(53984);var a=n(72960),i=n(70498),o=n(57075),r=n(99762),s=n(56968),l=n(8391),u=n(94999),c=3;function p(e){return i.isArray(e)||(e=[+e,+e]),e}function d(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:'stroke'===t.brushType?n:null,fill:'fill'===t.brushType?n:null}})}))}var h=function(e){function t(t,n){var a=e.call(this)||this,i=new u.Z(t,n),o=new r.Z;return a.add(i),a.add(o),a.updateData(t,n),a}return(0,a.ZT)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,a=this.childAt(1),i=0;i<c;i++){var r=(0,o.t)(t,-1,-1,2,2,n);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-i/c*e.period+e.effectOffset;r.animate('',!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),a.add(r)}d(a,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),a=['symbolType','period','rippleScale'],i=0;i<a.length;i++){var o=a[i];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}d(n,e)},t.prototype.highlight=function(){(0,s.fD)(this)},t.prototype.downplay=function(){(0,s.Mh)(this)},t.prototype.updateData=function(e,t){var n=this,a=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),r=e.getItemModel(t),u=e.getItemVisual(t,'symbol'),c=p(e.getItemVisual(t,'symbolSize')),d=e.getItemVisual(t,'style'),h=d&&d.fill;o.setScale(c),o.traverse((function(e){e.setStyle('fill',h)}));var f=e.getItemVisual(t,'symbolOffset');f&&(i.isArray(f)||(f=[f,f]),o.x=(0,l.GM)(f[0],c[0]),o.y=(0,l.GM)(i.retrieve2(f[1],f[0])||0,c[1]));var g=e.getItemVisual(t,'symbolRotate');o.rotation=(g||0)*Math.PI/180||0;var y={};y.showEffectOn=a.get('showEffectOn'),y.rippleScale=r.get(['rippleEffect','scale']),y.brushType=r.get(['rippleEffect','brushType']),y.period=1e3*r.get(['rippleEffect','period']),y.effectOffset=t/e.count(),y.z=a.getShallow('z')||0,y.zlevel=a.getShallow('zlevel')||0,y.symbolType=u,y.color=h,y.rippleEffectColor=r.get(['rippleEffect','color']),this.off('mouseover').off('mouseout').off('emphasis').off('normal'),'render'===y.showEffectOn?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){'emphasis'===e?'render'!==y.showEffectOn&&n.startEffectAnimation(y):'normal'===e&&'render'!==y.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=y,(0,s.vF)(this)},t.prototype.fadeOut=function(e){this.off('mouseover').off('mouseout'),e&&e()},t}(r.Z);t['Z']=h},25153:function(e,t,n){var a=n(72960),i=n(32107),o=n(99762),r=n(41342),s=n(89795),l=n(63095),u=n(35412),c=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),p=function(e){function t(t){return e.call(this,t)||this}return(0,a.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:'#000',fill:null}},t.prototype.getDefaultShape=function(){return new c},t.prototype.buildPath=function(e,t){var n=t.segs,a=t.curveness;if(t.polyline)for(var i=0;i<n.length;){var o=n[i++];if(o>0){e.moveTo(n[i++],n[i++]);for(var r=1;r<o;r++)e.lineTo(n[i++],n[i++])}}else for(i=0;i<n.length;){var s=n[i++],l=n[i++],u=n[i++],c=n[i++];if(e.moveTo(s,l),a>0){var p=(s+u)/2-(l-c)*a,d=(l+c)/2-(u-s)*a;e.quadraticCurveTo(p,d,u,c)}else e.lineTo(u,c)}},t.prototype.findDataIndex=function(e,t){var n=this.shape,a=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var r=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var p=a[u++],d=a[u++],h=1;h<c;h++){var f=a[u++],g=a[u++];if(s.m(p,d,f,g,o,e,t))return r}r++}else for(r=0,u=0;u<a.length;){p=a[u++],d=a[u++],f=a[u++],g=a[u++];if(i>0){var y=(p+f)/2-(d-g)*i,m=(d+g)/2-(f-p)*i;if(l.m(p,d,y,m,f,g,o,e,t))return r}else if(s.m(p,d,f,g,o,e,t))return r;r++}return-1},t}(i.ZP),d=function(){function e(){this.group=new o.Z}return e.prototype.isPersistent=function(){return!this._incremental},e.prototype.updateData=function(e){this.group.removeAll();var t=new p({rectHover:!0,cursor:'default'});t.setShape({segs:e.getLayout('linesPoints')}),this._setCommon(t,e),this.group.add(t),this._incremental=null},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new r.Z({silent:!0})),this.group.add(this._incremental)):this._incremental=null},e.prototype.incrementalUpdate=function(e,t){var n=new p;n.setShape({segs:t.getLayout('linesPoints')}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor='default',n.__startIndex=e.start,this.group.add(n))},e.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},e.prototype._setCommon=function(e,t,n){var a=t.hostModel;e.setShape({polyline:a.get('polyline'),curveness:a.get(['lineStyle','curveness'])}),e.useStyle(a.getModel('lineStyle').getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual('style');if(i&&i.stroke&&e.setStyle('stroke',i.stroke),e.setStyle('fill',null),!n){var o=(0,u.A)(e);o.seriesIndex=a.seriesIndex,e.on('mousemove',(function(t){o.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(o.dataIndex=n+e.__startIndex)}))}},e.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e}();t['Z']=d},75251:function(e,t,n){n(5769),n(63238),n(37753),n(73712),n(82979),n(6160),n(61849),n(25540),n(30896),n(20936),n(10040),n(5923),n(85246),n(97635),n(68774),n(8373),n(29706),n(86964),n(34630),n(75389),n(81244),n(89981),n(33807),n(62627),n(34950),n(61964),n(53984);var a=n(72960),i=n(32107),o=n(99762),r=n(57075),s=n(41342),l=n(35412),u=4,c=function(){function e(){}return e}(),p=function(e){function t(t){return e.call(this,t)||this}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new c},t.prototype.buildPath=function(e,t){var n=t.points,a=t.size,i=this.symbolProxy,o=i.shape,r=e.getContext?e.getContext():e,s=r&&a[0]<u;if(s)this._ctx=r;else{this._ctx=null;for(var l=0;l<n.length;){var c=n[l++],p=n[l++];isNaN(c)||isNaN(p)||(this.softClipShape&&!this.softClipShape.contain(c,p)||(o.x=c-a[0]/2,o.y=p-a[1]/2,o.width=a[0],o.height=a[1],i.buildPath(e,o,!0)))}}},t.prototype.afterBrush=function(){var e=this.shape,t=e.points,n=e.size,a=this._ctx;if(a)for(var i=0;i<t.length;){var o=t[i++],r=t[i++];isNaN(o)||isNaN(r)||(this.softClipShape&&!this.softClipShape.contain(o,r)||a.fillRect(o-n[0]/2,r-n[1]/2,n[0],n[1]))}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,a=n.points,i=n.size,o=Math.max(i[0],4),r=Math.max(i[1],4),s=a.length/2-1;s>=0;s--){var l=2*s,u=a[l]-o/2,c=a[l+1]-r/2;if(e>=u&&t>=c&&e<=u+o&&t<=c+r)return s}return-1},t}(i.ZP),d=function(){function e(){this.group=new o.Z}return e.prototype.isPersistent=function(){return!this._incremental},e.prototype.updateData=function(e,t){this.group.removeAll();var n=new p({rectHover:!0,cursor:'default'});n.setShape({points:e.getLayout('points')}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},e.prototype.updateLayout=function(e){if(!this._incremental){var t=e.getLayout('points');this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),a=4*e.startIndex*2;t=new Float32Array(t.buffer,a,n)}e.setShape('points',t)}))}},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new s.Z({silent:!0})),this.group.add(this._incremental)):this._incremental=null},e.prototype.incrementalUpdate=function(e,t,n){var a;this._incremental?(a=new p,this._incremental.addDisplayable(a,!0)):(a=new p({rectHover:!0,cursor:'default',startIndex:e.start,endIndex:e.end}),a.incremental=!0,this.group.add(a)),a.setShape({points:t.getLayout('points')}),this._setCommon(a,t,!!this._incremental,n)},e.prototype._setCommon=function(e,t,n,a){var i=t.hostModel;a=a||{};var o=t.getVisual('symbolSize');e.setShape('size',o instanceof Array?o:[o,o]),e.softClipShape=a.clipShape||null,e.symbolProxy=(0,r.t)(t.getVisual('symbol'),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<u;e.useStyle(i.getModel('itemStyle').getItemStyle(s?['color','shadowBlur','shadowColor']:['color']));var c=t.getVisual('style'),p=c&&c.fill;if(p&&e.setColor(p),!n){var d=(0,l.A)(e);d.seriesIndex=i.seriesIndex,e.on('mousemove',(function(t){d.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>=0&&(d.dataIndex=n+(e.startIndex||0))}))}},e.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},e.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e}();t['Z']=d},75620:function(e,t,n){n.d(t,{Z:function(){return w}});n(83352),n(53984);var a=n(72960),i=n(70498),o=n(56712),r=n(57075),s=n(6993),l=n(47385),u=n(32107),c=s.Z.prototype,p=l.Z.prototype,d=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,a.ZT)(t,e)})(d);function h(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var f=function(e){function t(t){var n=e.call(this,t)||this;return n.type='ec-line',n}return(0,a.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:'#000',fill:null}},t.prototype.getDefaultShape=function(){return new d},t.prototype.buildPath=function(e,t){h(t)?c.buildPath.call(this,e,t):p.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return h(this.shape)?c.pointAt.call(this,e):p.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=h(t)?[t.x2-t.x1,t.y2-t.y1]:p.tangentAt.call(this,e);return o.normalize(n,n)},t}(u.ZP),g=f,y=n(16373),m=n(99762),v=n(56968),_=n(40528),S=n(8391),x=['fromSymbol','toSymbol'];function b(e){return'_'+e+'Type'}function I(e,t,n){var a=t.getItemVisual(n,e);if(a&&'none'!==a){var o=t.getItemVisual(n,e+'Size'),s=t.getItemVisual(n,e+'Rotate'),l=t.getItemVisual(n,e+'Offset')||0,u=t.getItemVisual(n,e+'KeepAspect'),c=(0,i.isArray)(o)?o:[o,o],p=(0,i.isArray)(l)?l:[l,l];p[0]=(0,S.GM)(p[0],c[0]),p[1]=(0,S.GM)((0,i.retrieve2)(p[1],p[0]),c[1]);var d=r.t(a,-c[0]/2+p[0],-c[1]/2+p[1],c[0],c[1],null,u);return d.__specifiedRotation=null==s||isNaN(s)?void 0:+s*Math.PI/180||0,d.name=e,d}}function A(e){var t=new g({name:'line',subPixelOptimize:!0});return M(t.shape,e),t}function M(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var L=function(e){function t(t,n,a){var i=e.call(this)||this;return i._createLine(t,n,a),i}return(0,a.ZT)(t,e),t.prototype._createLine=function(e,t,n){var a=e.hostModel,o=e.getItemLayout(t),r=A(o);r.shape.percent=0,y.initProps(r,{shape:{percent:1}},a,t),this.add(r),(0,i.each)(x,(function(n){var a=I(n,e,t);this.add(a),this[b(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var a=e.hostModel,o=this.childOfName('line'),r=e.getItemLayout(t),s={shape:{}};M(s.shape,r),y.updateProps(o,s,a,t),(0,i.each)(x,(function(n){var a=e.getItemVisual(t,n),i=b(n);if(this[i]!==a){this.remove(this.childOfName(n));var o=I(n,e,t);this.add(o)}this[i]=a}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var a=e.hostModel,o=this.childOfName('line'),r=n&&n.emphasisLineStyle,s=n&&n.blurLineStyle,l=n&&n.selectLineStyle,u=n&&n.labelStatesModels;if(!n||e.hasItemOption){var c=e.getItemModel(t);r=c.getModel(['emphasis','lineStyle']).getLineStyle(),s=c.getModel(['blur','lineStyle']).getLineStyle(),l=c.getModel(['select','lineStyle']).getLineStyle(),u=(0,_.k3)(c)}var p=e.getItemVisual(t,'style'),d=p.stroke;o.useStyle(p),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState('emphasis').style=r,o.ensureState('blur').style=s,o.ensureState('select').style=l,(0,i.each)(x,(function(e){var t=this.childOfName(e);if(t){t.setColor(d),t.style.opacity=p.opacity;for(var n=0;n<v.L1.length;n++){var a=v.L1[n],i=o.getState(a);if(i){var r=i.style||{},s=t.ensureState(a),l=s.style||(s.style={});null!=r.stroke&&(l[t.__isEmptyBrush?'stroke':'fill']=r.stroke),null!=r.opacity&&(l.opacity=r.opacity)}}t.markRedraw()}}),this);var h=a.getRawValue(t);(0,_.ni)(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return a.getFormattedLabel(t,n,e.dataType)}},inheritColor:d||'#000',defaultOpacity:p.opacity,defaultText:(null==h?e.getName(t):isFinite(h)?(0,S.NM)(h):h)+''});var f=this.getTextContent();if(f){var g=u.normal;f.__align=f.style.align,f.__verticalAlign=f.style.verticalAlign,f.__position=g.get('position')||'middle';var y=g.get('distance');(0,i.isArray)(y)||(y=[y,y]),f.__labelDistance=y}this.setTextConfig({position:null,local:!0,inside:!1}),(0,v.vF)(this)},t.prototype.highlight=function(){(0,v.fD)(this)},t.prototype.downplay=function(){(0,v.Mh)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName('line');M(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName('fromSymbol'),n=e.childOfName('toSymbol'),a=e.getTextContent();if(t||n||a&&!a.ignore){var i=1,r=this.parent;while(r)r.scaleX&&(i/=r.scaleX),r=r.parent;var s=e.childOfName('line');if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),c=s.pointAt(l),p=o.sub([],c,u);if(o.normalize(p,p),t&&(t.setPosition(u),A(t,0),t.scaleX=t.scaleY=i*l,t.markRedraw()),n&&(n.setPosition(c),A(n,1),n.scaleX=n.scaleY=i*l,n.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var d=void 0,h=void 0,f=a.__labelDistance,g=f[0]*i,y=f[1]*i,m=l/2,v=s.tangentAt(m),_=[v[1],-v[0]],S=s.pointAt(m);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var x=v[0]<0?-1:1;if('start'!==a.__position&&'end'!==a.__position){var b=-Math.atan2(v[1],v[0]);c[0]<u[0]&&(b=Math.PI+b),a.rotation=b}var I=void 0;switch(a.__position){case'insideStartTop':case'insideMiddleTop':case'insideEndTop':case'middle':I=-y,h='bottom';break;case'insideStartBottom':case'insideMiddleBottom':case'insideEndBottom':I=y,h='top';break;default:I=0,h='middle'}switch(a.__position){case'end':a.x=p[0]*g+c[0],a.y=p[1]*y+c[1],d=p[0]>.8?'left':p[0]<-.8?'right':'center',h=p[1]>.8?'top':p[1]<-.8?'bottom':'middle';break;case'start':a.x=-p[0]*g+u[0],a.y=-p[1]*y+u[1],d=p[0]>.8?'right':p[0]<-.8?'left':'center',h=p[1]>.8?'bottom':p[1]<-.8?'top':'middle';break;case'insideStartTop':case'insideStart':case'insideStartBottom':a.x=g*x+u[0],a.y=u[1]+I,d=v[0]<0?'right':'left',a.originX=-g*x,a.originY=-I;break;case'insideMiddleTop':case'insideMiddle':case'insideMiddleBottom':case'middle':a.x=S[0],a.y=S[1]+I,d='center',a.originY=-I;break;case'insideEndTop':case'insideEnd':case'insideEndBottom':a.x=-g*x+c[0],a.y=c[1]+I,d=v[0]>=0?'right':'left',a.originX=g*x,a.originY=-I;break}a.scaleX=a.scaleY=i,a.setStyle({verticalAlign:a.__verticalAlign||h,align:a.__align||d})}}}function A(e,t){var n=e.__specifiedRotation;if(null==n){var a=s.tangentAt(t);e.attr('rotation',(1===t?-1:1)*Math.PI/2-Math.atan2(a[1],a[0]))}else e.attr('rotation',n)}},t}(m.Z),w=L},54154:function(e,t,n){var a=n(99762),i=n(75620),o=n(40528),r=function(){function e(e){this.group=new a.Z,this._LineCtor=e||i.Z}return e.prototype.isPersistent=function(){return!0},e.prototype.updateData=function(e){var t=this,n=this,a=n.group,i=n._lineData;n._lineData=e,i||a.removeAll();var o=l(e);e.diff(i).add((function(n){t._doAdd(e,n,o)})).update((function(n,a){t._doUpdate(i,e,a,n,o)})).remove((function(e){a.remove(i.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=l(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||s(e)||(e.incremental=!0,e.ensureState('emphasis').hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var i=t.getItemLayout(a);if(c(i)){var o=new this._LineCtor(t,a,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(a,o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype._doAdd=function(e,t,n){var a=e.getItemLayout(t);if(c(a)){var i=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,n,a,i){var o=e.getItemGraphicEl(n);c(t.getItemLayout(a))?(o?o.updateData(t,a,i):o=new this._LineCtor(t,a,i),t.setItemGraphicEl(a,o),this.group.add(o)):this.group.remove(o)},e}();function s(e){return e.animators&&e.animators.length>0}function l(e){var t=e.hostModel;return{lineStyle:t.getModel('lineStyle').getLineStyle(),emphasisLineStyle:t.getModel(['emphasis','lineStyle']).getLineStyle(),blurLineStyle:t.getModel(['blur','lineStyle']).getLineStyle(),selectLineStyle:t.getModel(['select','lineStyle']).getLineStyle(),labelStatesModels:(0,o.k3)(t)}}function u(e){return isNaN(e[0])||isNaN(e[1])}function c(e){return!u(e[0])&&!u(e[1])}t['Z']=r},57331:function(e,t,n){n(53984);var a=n(72960),i=n(35738),o=n(16373),r=n(99762),s=n(56968),l=function(e){function t(t,n,a){var i=e.call(this)||this;return i._createPolyline(t,n,a),i}return(0,a.ZT)(t,e),t.prototype._createPolyline=function(e,t,n){var a=e.getItemLayout(t),o=new i.Z({shape:{points:a}});this.add(o),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var a=e.hostModel,i=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};o.updateProps(i,r,a,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var a=this.childAt(0),i=e.getItemModel(t),o=n&&n.emphasisLineStyle;n&&!e.hasItemOption||(o=i.getModel(['emphasis','lineStyle']).getLineStyle()),a.useStyle(e.getItemVisual(t,'style')),a.style.fill=null,a.style.strokeNoScale=!0;var r=a.ensureState('emphasis');r.style=o,(0,s.vF)(this)},t.prototype.updateLayout=function(e,t){var n=this.childAt(0);n.setShape('points',e.getItemLayout(t))},t}(r.Z);t['Z']=l},50943:function(e,t,n){n.d(t,{Z:function(){return p}});n(83352),n(23938);var a=n(70498),i=n(43327),o=n(56742),r=n(84802),s=n(60300),l=n(86237),u=n(78583),c=n(65328);function p(e,t,n,p,d){for(var h=new o.ZP(p),f=0;f<e.length;f++)h.addNode(a.retrieve(e[f].id,e[f].name,f),f);var g=[],y=[],m=0;for(f=0;f<t.length;f++){var v=t[f],_=v.source,S=v.target;h.addEdge(_,S,m)&&(y.push(v),g.push(a.retrieve((0,c.U5)(v.id,null),_+' > '+S)),m++)}var x,b=n.get('coordinateSystem');if('cartesian2d'===b||'polar'===b)x=(0,u.Z)(e,n);else{var I=l.Z.get(b),A=I&&I.dimensions||[];a.indexOf(A,'value')<0&&A.concat(['value']);var M=(0,s.Z)(e,{coordDimensions:A});x=new i.Z(M,n),x.initData(e)}var L=new i.Z(['value'],n);return L.initData(y,g),d&&d(x,L),(0,r.Z)({mainData:x,struct:h,structAttr:'graph',datas:{node:x,edge:L},datasAttr:{node:'data',edge:'edgeData'}}),h.update(),h}},19442:function(e,t,n){n.d(t,{Z:function(){return i}});n(83352);var a=n(40555);function i(e){var t=e.getData(),n=t.tree,i={};n.eachNode((function(t){var n=t;while(n&&n.depth>1)n=n.parentNode;var o=(0,a.i)(e.ecModel,n.name||n.dataIndex+'',i);t.setVisual('decal',o)}))}},31961:function(e,t,n){n.d(t,{d1:function(){return i},zN:function(){return o},Gx:function(){return r},n3:function(){return s}});n(83352);var a=n(70498);function i(e,t,n){if(e&&a.indexOf(t,e.type)>=0){var i=n.getData().tree.root,o=e.targetNode;if('string'===typeof o&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var r=e.targetNodeId;if(null!=r&&(o=i.getNodeById(r)))return{node:o}}}function o(e){var t=[];while(e)e=e.parentNode,e&&t.push(e);return t.reverse()}function r(e,t){var n=o(e);return a.indexOf(n,t)>=0}function s(e,t){var n=[];while(e){var a=e.dataIndex;n.push({name:e.name,dataIndex:a,value:t.getRawValue(a)}),e=e.parentNode}return n.reverse(),n}},28364:function(e,t,n){n.d(t,{v:function(){return s}});n(72410);var a=n(78506),i=n(70498),o=n(54963),r=n(47146),s=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,s,l=t.getComponent('xAxis',this.get('xAxisIndex')),u=t.getComponent('yAxis',this.get('yAxisIndex')),c=l.get('type'),p=u.get('type');'category'===c?(e.layout='horizontal',n=l.getOrdinalMeta(),s=!0):'category'===p?(e.layout='vertical',n=u.getOrdinalMeta(),s=!0):e.layout=e.layout||'horizontal';var d=['x','y'],h='horizontal'===e.layout?0:1,f=this._baseAxisDim=d[h],g=d[1-h],y=[l,u],m=y[h].get('type'),v=y[1-h].get('type'),_=e.data;if(_&&s){var S=[];i.each(_,(function(e,t){var n;i.isArray(e)?(n=e.slice(),e.unshift(t)):i.isArray(e.value)?(n=e.value.slice(),e.value.unshift(t)):n=e,S.push(n)})),e.data=S}var x=this.defaultValueDimensions,b=[{name:f,type:(0,o.T)(m),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:['base']},{name:g,type:(0,o.T)(v),dimsDef:x.slice()}];return(0,a.Z)(this,{coordDimensions:b,dimensionsCount:x.length+1,encodeDefaulter:i.curry(r.pY,b,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+'Axis',this.get(e+'AxisIndex')).axis},e}()}}]);