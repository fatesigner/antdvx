'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[3797],{83797:function(t,e,r){r.d(e,{N:function(){return Z}});var o=r(72960),a=r(54154),s=r(68288),n=r(75620),i=r(57331),l=r(21687),f=r(25153),p=(r(5769),r(63238),r(37753),r(73712),r(82979),r(6160),r(61849),r(25540),r(30896),r(20936),r(10040),r(5923),r(85246),r(97635),r(68774),r(8373),r(29706),r(86964),r(34630),r(75389),r(81244),r(89981),r(33807),r(62627),r(34950),r(61964),r(6946)),d={seriesType:'lines',plan:(0,p.Z)(),reset:function(t){var e=t.coordinateSystem,r=t.get('polyline'),o=t.pipelineContext.large;return{progress:function(a,s){var n=[];if(o){var i=void 0,l=a.end-a.start;if(r){for(var f=0,p=a.start;p<a.end;p++)f+=t.getLineCoordsCount(p);i=new Float32Array(l+2*f)}else i=new Float32Array(4*l);var d=0,u=[];for(p=a.start;p<a.end;p++){var h=t.getLineCoords(p,n);r&&(i[d++]=h);for(var y=0;y<h;y++)u=e.dataToPoint(n[y],!1,u),i[d++]=u[0],i[d++]=u[1]}s.setLayout('linesPoints',i)}else for(p=a.start;p<a.end;p++){var c=s.getItemModel(p),g=(h=t.getLineCoords(p,n),[]);if(r)for(var m=0;m<h;m++)g.push(e.dataToPoint(n[m]));else{g[0]=e.dataToPoint(n[0]),g[1]=e.dataToPoint(n[1]);var v=c.get(['lineStyle','curveness']);+v&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*v,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*v])}s.setItemLayout(p,g)}}}}},u=d,h=r(34376),y=r(20296),c=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.type=e.type,r}return(0,o.ZT)(e,t),e.prototype.render=function(t,e,r){var o=t.getData(),a=this._updateLineDraw(o,t),s=t.get('zlevel'),n=t.get(['effect','trailLength']),i=r.getZr(),l='svg'===i.painter.getType();(l||i.painter.getLayer(s).clear(!0),null==this._lastZlevel||l||i.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&n)&&(l||i.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(n/10+.9,1),0)}));a.updateData(o);var f=t.get('clip',!0)&&(0,h.lQ)(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,r){var o=t.getData(),a=this._updateLineDraw(o,t);a.incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,e,r){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,r){var o=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=u.reset(t,e,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,e){var r=this._lineDraw,o=this._showEffect(e),p=!!e.get('polyline'),d=e.pipelineContext,u=d.large;return r&&o===this._hasEffet&&p===this._isPolyline&&u===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=u?new f.Z:new a.Z(p?o?l.Z:i.Z:o?s.Z:n.Z),this._hasEffet=o,this._isPolyline=p,this._isLargeDraw=u,this.group.removeAll()),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(['effect','show'])},e.prototype._clearLayer=function(t){var e=t.getZr(),r='svg'===e.painter.getType();r||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.type='lines',e}(y.Z),g=c,m=(r(57148),r(6479),r(83352),r(25613),r(28821)),v=r(43327),_=r(70498),C=r(87918),w='undefined'===typeof Uint32Array?Array:Uint32Array,A='undefined'===typeof Float64Array?Array:Float64Array;function S(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=(0,_.map)(e,(function(t){var e=[t[0].coord,t[1].coord],r={coords:e};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),(0,_.mergeAll)([r,t[0],t[1]])})))}var D=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath='lineStyle',r.visualDrawType='stroke',r}return(0,o.ZT)(e,t),e.prototype.init=function(e){e.data=e.data||[],S(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(S(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=(0,_.concatArray)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=(0,_.concatArray)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),r=e.option instanceof Array?e.option:e.getShallow('coords');return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],a=0;a<o;a++)e[a]=e[a]||[],e[a][0]=this._flatCoords[r+2*a],e[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(t);for(a=0;a<s.length;a++)e[a]=e[a]||[],e[a][0]=s[a][0],e[a][1]=s[a][1];return s.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),'number'===typeof t[0]){for(var r=t.length,o=new w(r),a=new A(r),s=0,n=0,i=0,l=0;l<r;){i++;var f=t[l++];o[n++]=s+e,o[n++]=f;for(var p=0;p<f;p++){var d=t[l++],u=t[l++];a[s++]=d,a[s++]=u}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,n),flatCoords:a,count:i}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var r=new v.Z(['value'],this);return r.hasItemOption=!1,r.initData(t.data,[],(function(t,e,o,a){if(t instanceof Array)return NaN;r.hasItemOption=!0;var s=t.value;return null!=s?s instanceof Array?s[a]:s:void 0})),r},e.prototype.formatTooltip=function(t,e,r){var o=this.getData(),a=o.getItemModel(t),s=a.get('name');if(s)return s;var n=a.get('fromName'),i=a.get('toName'),l=[];return null!=n&&l.push(n),null!=i&&l.push(i),(0,C.TX)('nameValue',{name:l.join(' > ')})},e.prototype.preventIncremental=function(){return!!this.get(['effect','show'])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get('progressive'):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get('progressiveThreshold'):t},e.type='series.lines',e.dependencies=['grid','polar','geo','calendar'],e.defaultOption={coordinateSystem:'geo',zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:['none','none'],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:'circle',symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:'end'},lineStyle:{opacity:.5}},e}(m.Z),L=D;function O(t){return t instanceof Array||(t=[t,t]),t}var b={seriesType:'lines',reset:function(t){var e=O(t.get('symbol')),r=O(t.get('symbolSize')),o=t.getData();function a(t,e){var r=t.getItemModel(e),o=O(r.getShallow('symbol',!0)),a=O(r.getShallow('symbolSize',!0));o[0]&&t.setItemVisual(e,'fromSymbol',o[0]),o[1]&&t.setItemVisual(e,'toSymbol',o[1]),a[0]&&t.setItemVisual(e,'fromSymbolSize',a[0]),a[1]&&t.setItemVisual(e,'toSymbolSize',a[1])}return o.setVisual('fromSymbol',e&&e[0]),o.setVisual('toSymbol',e&&e[1]),o.setVisual('fromSymbolSize',r&&r[0]),o.setVisual('toSymbolSize',r&&r[1]),{dataEach:o.hasItemOption?a:null}}},I=b;function Z(t){t.registerChartView(g),t.registerSeriesModel(L),t.registerLayout(u),t.registerVisual(I)}}}]);