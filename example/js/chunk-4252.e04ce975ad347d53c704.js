'use strict';(self['webpackChunk']=self['webpackChunk']||[]).push([[4252],{79474:function(t,e,i){i(53984),i(25613),i(72410),i(38217),i(83352);var r=i(30908),n=i(94449),o=i(40443),s=i(71368),a=i(44750),h=i(70498),l=i(89067),u=i(39780),p=i(6303),c=i(14882),f='__zr_normal__',d=['x','y','scaleX','scaleY','originX','originY','rotation','ignore'],g={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},_={},v=new o.Z(0,0,0,0),y=function(){function t(t){this.id=(0,h.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case'horizontal':e=0;break;case'vertical':t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,n=e.attachedTransform,o=void 0,s=void 0,h=!1;n.parent=r?this:null;var l=!1;if(n.x=e.x,n.y=e.y,n.originX=e.originX,n.originY=e.originY,n.rotation=e.rotation,n.scaleX=e.scaleX,n.scaleY=e.scaleY,null!=i.position){var u=v;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(_,i,u):(0,a.wI)(_,i,u),n.x=_.x,n.y=_.y,o=_.align,s=_.verticalAlign;var p=i.origin;if(p&&null!=i.rotation){var f=void 0,d=void 0;'center'===p?(f=.5*u.width,d=.5*u.height):(f=(0,a.GM)(p[0],u.width),d=(0,a.GM)(p[1],u.height)),l=!0,n.originX=-n.x+f+(r?0:u.x),n.originY=-n.y+d+(r?0:u.y)}}null!=i.rotation&&(n.rotation=i.rotation);var g=i.offset;g&&(n.x+=g[0],n.y+=g[1],l||(n.originX=-g[0],n.originY=-g[1]));var y=null==i.inside?'string'===typeof i.position&&i.position.indexOf('inside')>=0:i.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,T=void 0,C=void 0;y&&this.canBeInsideText()?(x=i.insideFill,T=i.insideStroke,null!=x&&'auto'!==x||(x=this.getInsideTextFill()),null!=T&&'auto'!==T||(T=this.getInsideTextStroke(x),C=!0)):(x=i.outsideFill,T=i.outsideStroke,null!=x&&'auto'!==x||(x=this.getOutsideFill()),null!=T&&'auto'!==T||(T=this.getOutsideStroke(x),C=!0)),x=x||'#000',x===m.fill&&T===m.stroke&&C===m.autoStroke&&o===m.align&&s===m.verticalAlign||(h=!0,m.fill=x,m.stroke=T,m.autoStroke=C,m.align=o,m.verticalAlign=s,e.setDefaultTextStyle(m)),e.__dirty|=c.Zu,h&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return'#fff'},t.prototype.getInsideTextStroke=function(t){return'#000'},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?l.GD:l.vU},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i='string'===typeof e&&(0,u.parse)(e);i||(i=[255,255,255,1]);for(var r=i[3],n=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*r+(n?0:255)*(1-r);return i[3]=1,(0,u.stringify)(i,'rgba')},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){'textConfig'===t?this.setTextConfig(e):'textContent'===t?this.setTextContent(e):'clipPath'===t?this.setClipPath(e):'extra'===t?(this.extra=this.extra||{},(0,h.extend)(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if('string'===typeof t)this.attrKV(t,e);else if((0,h.isObject)(t))for(var i=t,r=(0,h.keys)(i),n=0;n<r.length;n++){var o=r[n];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],n=r.__fromStateTransition;if(!n||n===f){var o=r.targetName,s=o?e[o]:e;r.saveFinalToTarget(s)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,d)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];null==t[n]||n in e||(e[n]=this[n])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(f,!1,t)},t.prototype.useState=function(t,e,i,r){var n=t===f,o=this.hasState();if(o||!n){var s=this.currentStates,a=this.stateTransition;if(!((0,h.indexOf)(s,t)>=0)||!e&&1!==s.length){var l;if(this.stateProxy&&!n&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||n){n||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!i&&!this.__inHover&&a&&a.duration>0,a);var p=this._textContent,d=this._textGuide;return p&&p.useState(t,e,i,u),d&&d.useState(t,e,i,u),n?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~c.Zu),l}(0,h.logError)('State '+t+' not exists.')}}},t.prototype.useStates=function(t,e,i){if(t.length){var r=[],n=this.currentStates,o=t.length,s=o===n.length;if(s)for(var a=0;a<o;a++)if(t[a]!==n[a]){s=!1;break}if(s)return;for(a=0;a<o;a++){var h=t[a],l=void 0;this.stateProxy&&(l=this.stateProxy(h,t)),l||(l=this.states[h]),l&&r.push(l)}var u=r[o-1],p=!!(u&&u.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),d=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(','),f,this._normalState,!1,!e&&!this.__inHover&&d&&d.duration>0,d);var g=this._textContent,_=this._textGuide;g&&g.useStates(t,e,p),_&&_.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~c.Zu)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=(0,h.indexOf)(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),n=(0,h.indexOf)(r,t),o=(0,h.indexOf)(r,e)>=0;n>=0?o?r.splice(n,1):r[n]=e:i&&!o&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},r=0;r<t.length;r++){var n=t[r];(0,h.extend)(i,n),n.textConfig&&(e=e||{},(0,h.extend)(e,n.textConfig))}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,r,n,o){var s=!(e&&r);e&&e.textConfig?(this.textConfig=(0,h.extend)({},r?this.textConfig:i.textConfig),(0,h.extend)(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var a={},l=!1,u=0;u<d.length;u++){var p=d[u],c=n&&g[p];e&&null!=e[p]?c?(l=!0,a[p]=e[p]):this[p]=e[p]:s&&null!=i[p]&&(c?(l=!0,a[p]=i[p]):this[p]=i[p])}if(!n)for(u=0;u<this.animators.length;u++){var f=this.animators[u],_=f.targetName;f.__changeFinalValue(_?(e||i)[_]:e||i)}l&&this._transitionState(t,a,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error('Text element has been added to zrender.');if(t===this)throw new Error('Recursive component attachment.');var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error('Text element has been added to zrender.');t.attachedTransform=new r.Z,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),(0,h.extend)(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=c.Zu;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var r=new n.ZP(i,e);return this.addAnimator(r,t),r}(0,h.logError)('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during((function(){r.updateDuringAnimation(e)})).done((function(){var e=r.animators,i=(0,h.indexOf)(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,n=[],o=0;o<r;o++){var s=i[o];t&&t!==s.scope?n.push(s):s.stop(e)}return this.animators=n,this},t.prototype.animateTo=function(t,e,i){m(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){m(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,r){for(var n=m(this,e,i,r),o=0;o<n.length;o++)n[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type='element',e.name='',e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=c.Zu;var i={};function r(t,e,r){i[t+e+r]||(console.warn('DEPRECATED: \''+t+'\' has been deprecated. use \''+e+'\', \''+r+'\' instead'),i[t+e+r]=!0)}function n(t,i,n,o){function s(t,e){Object.defineProperty(e,0,{get:function(){return t[n]},set:function(e){t[n]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){if(r(t,n,o),!this[i]){var e=this[i]=[];s(this,e)}return this[i]},set:function(e){r(t,n,o),this[n]=e[0],this[o]=e[1],this[i]=e,s(this,e)}})}Object.defineProperty&&(!p.Z.browser.ie||p.Z.browser.version>8)&&(n('position','_legacyPos','x','y'),n('scale','_legacyScale','scaleX','scaleY'),n('origin','_legacyOrigin','originX','originY'))}(),t}();function m(t,e,i,r,n){i=i||{};var o=[];S(t,'',t,e,i,r,o,n);var s=o.length,a=!1,h=i.done,l=i.aborted,u=function(){a=!0,s--,s<=0&&(a?h&&h():l&&l())},p=function(){s--,s<=0&&(a?h&&h():l&&l())};s||h&&h(),o.length>0&&i.during&&o[0].during((function(t,e){i.during(e)}));for(var c=0;c<o.length;c++){var f=o[c];u&&f.done(u),p&&f.aborted(p),f.start(i.easing,i.force)}return o}function x(t,e,i){for(var r=0;r<i;r++)t[r]=e[r]}function T(t){return(0,h.isArrayLike)(t[0])}function C(t,e,i){if((0,h.isArrayLike)(e[i]))if((0,h.isArrayLike)(t[i])||(t[i]=[]),(0,h.isTypedArray)(e[i])){var r=e[i].length;t[i].length!==r&&(t[i]=new e[i].constructor(r),x(t[i],e[i],r))}else{var n=e[i],o=t[i],s=n.length;if(T(n))for(var a=n[0].length,l=0;l<s;l++)o[l]?x(o[l],n[l],a):o[l]=Array.prototype.slice.call(n[l]);else x(o,n,s);o.length=n.length}else t[i]=e[i]}function S(t,e,i,r,o,s,a,l){for(var u=[],p=[],c=(0,h.keys)(r),f=o.duration,d=o.delay,g=o.additive,_=o.setToFinal,v=!(0,h.isObject)(s),y=0;y<c.length;y++){var m=c[y];if(null!=i[m]&&null!=r[m]&&(v||s[m]))if((0,h.isObject)(r[m])&&!(0,h.isArrayLike)(r[m])){if(e){l||(i[m]=r[m],t.updateDuringAnimation(e));continue}S(t,m,i[m],r[m],o,s&&s[m],a,l)}else u.push(m),p.push(m);else l||(i[m]=r[m],t.updateDuringAnimation(e),p.push(m))}var x=u.length;if(x>0||o.force&&!a.length){for(var T=t.animators,w=[],z=0;z<T.length;z++)T[z].targetName===e&&w.push(T[z]);if(!g&&w.length)for(z=0;z<w.length;z++){var k=w[z].stopTracks(p);if(k){var b=(0,h.indexOf)(T,w[z]);T.splice(b,1)}}var P=void 0,A=void 0,L=void 0;if(l){A={},_&&(P={});for(z=0;z<x;z++){m=u[z];A[m]=i[m],_?P[m]=r[m]:i[m]=r[m]}}else if(_){L={};for(z=0;z<x;z++){m=u[z];L[m]=(0,n.Ve)(i[m]),C(i,r,m)}}var Z=new n.ZP(i,!1,g?w:null);Z.targetName=e,o.scope&&(Z.scope=o.scope),_&&P&&Z.whenWithKeys(0,P,u),L&&Z.whenWithKeys(0,L,u),Z.whenWithKeys(null==f?500:f,l?A:r,u).delay(d||0),t.addAnimator(Z,e),a.push(Z)}}(0,h.mixin)(y,s.Z),(0,h.mixin)(y,r.Z),e['Z']=y},71605:function(t,e,i){var r=i(72960),n=i(70498),o=i(56712),s=i(21782),a=i(71368),h=i(92489),l=i(97233),u='silent';function p(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:c}}function c(){h.sT(this.event)}var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return(0,r.ZT)(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(a.Z),d=function(){function t(t,e){this.x=t,this.y=e}return t}(),g=['click','dblclick','mousewheel','mouseout','mouseup','mousedown','mousemove','contextmenu'],_=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o._hovered=new d(0,0),o.storage=e,o.painter=i,o.painterRoot=n,r=r||new f,o.proxy=null,o.setHandlerProxy(r),o._draggingMgr=new s.Z(o),o}return(0,r.ZT)(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(n.each(g,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,r=y(this,e,i),n=this._hovered,o=n.target;o&&!o.__zr&&(n=this.findHover(n.x,n.y),o=n.target);var s=this._hovered=r?new d(e,i):this.findHover(e,i),a=s.target,h=this.proxy;h.setCursor&&h.setCursor(a?a.cursor:'default'),o&&a!==o&&this.dispatchToElement(n,'mouseout',t),this.dispatchToElement(s,'mousemove',t),a&&a!==o&&this.dispatchToElement(s,'mouseover',t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;'only_globalout'!==e&&this.dispatchToElement(this._hovered,'mouseout',t),'no_globalout'!==e&&this.trigger('globalout',{type:'globalout',event:t})},e.prototype.resize=function(){this._hovered=new d(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){t=t||{};var r=t.target;if(!r||!r.silent){var n='on'+e,o=p(e,t,i);while(r)if(r[n]&&(o.cancelBubble=!!r[n].call(r,o)),r.trigger(e,o),r=r.__hostTarget?r.__hostTarget:r.parent,o.cancelBubble)break;o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){'function'===typeof t[n]&&t[n].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,i){for(var r=this.storage.getDisplayList(),n=new d(t,e),o=r.length-1;o>=0;o--){var s=void 0;if(r[o]!==i&&!r[o].ignore&&(s=v(r[o],t,e))&&(!n.topTarget&&(n.topTarget=r[o]),s!==u)){n.target=r[o];break}}return n},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new l.y);var i=this._gestureMgr;'start'===e&&i.clear();var r=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if('end'===e&&i.clear(),r){var n=r.type;t.gestureEvent=n;var o=new d;o.target=r.target,this.dispatchToElement(o,n,r.event)}},e}(a.Z);function v(t,e,i){if(t[t.rectHover?'rectContain':'contain'](e,i)){var r=t,n=void 0,o=!1;while(r){if(r.ignoreClip&&(o=!0),!o){var s=r.getClipPath();if(s&&!s.contain(e,i))return!1;r.silent&&(n=!0)}var a=r.__hostTarget;r=a||r.parent}return!n||u}return!1}function y(t,e,i){var r=t.painter;return e<0||e>r.getWidth()||i<0||i>r.getHeight()}n.each(['click','mousedown','mouseup','mousewheel','dblclick','contextmenu'],(function(t){_.prototype[t]=function(e){var i,r,n=e.zrX,s=e.zrY,a=y(this,n,s);if('mouseup'===t&&a||(i=this.findHover(n,s),r=i.target),'mousedown'===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if('mouseup'===t)this._upEl=r;else if('click'===t){if(this._downEl!==this._upEl||!this._downPoint||o.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}})),e['Z']=_},87015:function(t,e,i){i(72410),i(38217);var r=i(70498),n=i(6303),o=i(61022),s=i(14882),a=!1;function h(){a||(a=!0,console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors'))}function l(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var u=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=l}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,s=e.length;r<s;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,n.Z.canvasSupported&&(0,o.Z)(i,l)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];var n=r,o=t;while(n)n.parent=o,n.updateTransform(),e.push(n),o=n,n=n.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),l=0;l<a.length;l++){var u=a[l];t.__dirty&&(u.__dirty|=s.Zu),this._updateAndAddDisplayable(u,e,i)}t.__dirty=0}else{var p=t;e&&e.length?p.__clipPaths=e:p.__clipPaths&&p.__clipPaths.length>0&&(p.__clipPaths=[]),isNaN(p.z)&&(h(),p.z=0),isNaN(p.z2)&&(h(),p.z2=0),isNaN(p.zlevel)&&(h(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,i);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,i);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=r.indexOf(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();e['Z']=u}}]);