var _typeof=require('@babel/runtime/helpers/typeof');require('core-js/modules/web.dom-collections.for-each.js'),require('core-js/modules/es.regexp.exec.js'),require('core-js/modules/es.string.search.js'),require('core-js/modules/es.number.constructor.js'),ace.define('ace/ext/code_lens',['require','exports','module','ace/line_widgets','ace/lib/event','ace/lib/lang','ace/lib/dom','ace/editor','ace/config'],(function(e,n,o){'use strict';var t=e('../line_widgets').LineWidgets,r=e('../lib/event'),i=e('../lib/lang'),s=e('../lib/dom');function a(e){var n=e.$textLayer,o=n.$lenses;o&&o.forEach((function(e){e.remove()})),n.$lenses=null}function d(e,n){var o=e&n.CHANGE_LINES||e&n.CHANGE_FULL||e&n.CHANGE_SCROLL||e&n.CHANGE_TEXT;if(o){var t=n.session,r=n.session.lineWidgets,i=n.$textLayer,d=i.$lenses;if(r){var c=n.$textLayer.$lines.cells,l=n.layerConfig,u=n.$padding;d||(d=i.$lenses=[]);for(var f=0,g=0;g<c.length;g++){var p=c[g].row,v=r[p],L=v&&v.lenses;if(L&&L.length){var h=d[f];h||(h=d[f]=s.buildDom(['div',{class:'ace_codeLens'}],n.container)),h.style.height=l.lineHeight+'px',f++;for(var m=0;m<L.length;m++){var $=h.childNodes[2*m];$||(0!=m&&h.appendChild(s.createTextNode(' | ')),$=s.buildDom(['a'],h)),$.textContent=L[m].title,$.lensCommand=L[m]}while(h.childNodes.length>2*m-1)h.lastChild.remove();var C=n.$cursorLayer.getPixelPosition({row:p,column:0},!0).top-l.lineHeight*v.rowsAbove-l.offset;h.style.top=C+'px';var w=n.gutterWidth,b=t.getLine(p).search(/\S|$/);-1==b&&(b=0),w+=b*l.characterWidth,w-=n.scrollLeft,h.style.paddingLeft=u+w+'px'}}while(f<d.length)d.pop().remove()}else d&&a(n)}}function c(e){if(e.lineWidgets){var n=e.widgetManager;e.lineWidgets.forEach((function(e){e&&e.lenses&&n.removeLineWidget(e)}))}}function l(e){e.codeLensProviders=[],e.renderer.on('afterRender',d),e.$codeLensClickHandler||(e.$codeLensClickHandler=function(n){var o=n.target.lensCommand;o&&e.execCommand(o.id,o.arguments)},r.addListener(e.container,'click',e.$codeLensClickHandler,e)),e.$updateLenses=function(){var o=e.session;if(o){o.widgetManager||(o.widgetManager=new t(o),o.widgetManager.attach(e));var r=e.codeLensProviders.length,i=[];e.codeLensProviders.forEach((function(e){e.provideCodeLenses(o,(function(e,n){e||(n.forEach((function(e){i.push(e)})),r--,0==r&&s())}))}))}function s(){var t=o.selection.cursor,r=o.documentToScreenRow(t);n.setLenses(o,i);var s=o.$undoManager&&o.$undoManager.$lastDelta;if(!(s&&'remove'==s.action&&s.lines.length>1)){var a=o.documentToScreenRow(t),d=e.renderer.layerConfig.lineHeight,c=o.getScrollTop()+(a-r)*d;o.setScrollTop(c)}}};var o=i.delayedCall(e.$updateLenses);e.$updateLensesOnInput=function(){o.delay(250)},e.on('input',e.$updateLensesOnInput)}function u(e){e.off('input',e.$updateLensesOnInput),e.renderer.off('afterRender',d),e.$codeLensClickHandler&&e.container.removeEventListener('click',e.$codeLensClickHandler)}n.setLenses=function(e,n){var o=Number.MAX_VALUE;c(e),n&&n.forEach((function(n){var t=n.start.row,r=n.start.column,i=e.lineWidgets&&e.lineWidgets[t];i&&i.lenses||(i=e.widgetManager.$registerLineWidget({rowCount:1,rowsAbove:1,row:t,column:r,lenses:[]})),i.lenses.push(n.command),t<o&&(o=t)})),e._emit('changeFold',{data:{start:{row:o}}})},n.registerCodeLensProvider=function(e,n){e.setOption('enableCodeLens',!0),e.codeLensProviders.push(n),e.$updateLensesOnInput()},n.clear=function(e){n.setLenses(e,null)};var f=e('../editor').Editor;e('../config').defineOptions(f.prototype,'editor',{enableCodeLens:{set:function(e){e?l(this):u(this)}}}),s.importCssString('.ace_codeLens {    position: absolute;    color: #aaa;    font-size: 88%;    background: inherit;    width: 100%;    display: flex;    align-items: flex-end;    pointer-events: none;}.ace_codeLens > a {    cursor: pointer;    pointer-events: auto;}.ace_codeLens > a:hover {    color: #0000ff;    text-decoration: underline;}.ace_dark > .ace_codeLens > a:hover {    color: #4e94ce;}','')})),function(){ace.require(['ace/ext/code_lens'],(function(e){'object'==('undefined'===typeof module?'undefined':_typeof(module))&&'object'==('undefined'===typeof exports?'undefined':_typeof(exports))&&module&&(module.exports=e)}))}();